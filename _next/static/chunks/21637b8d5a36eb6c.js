(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,81182,(e,t,r)=>{"use strict";var n=e.r(98755).__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;r.c=function(e){return n.H.useMemoCache(e)}},50471,(e,t,r)=>{"use strict";t.exports=e.r(81182)},57097,e=>{e.v({actions:"ConfirmDialog-module-scss-module__Nn2_nG__actions",cancelButton:"ConfirmDialog-module-scss-module__Nn2_nG__cancelButton",confirmButton:"ConfirmDialog-module-scss-module__Nn2_nG__confirmButton",dialog:"ConfirmDialog-module-scss-module__Nn2_nG__dialog",icon:"ConfirmDialog-module-scss-module__Nn2_nG__icon",message:"ConfirmDialog-module-scss-module__Nn2_nG__message",overlay:"ConfirmDialog-module-scss-module__Nn2_nG__overlay"})},87157,e=>{e.v({active:"Toolbar-module-scss-module__K0SkTa__active",addButton:"Toolbar-module-scss-module__K0SkTa__addButton",brand:"Toolbar-module-scss-module__K0SkTa__brand",brandButton:"Toolbar-module-scss-module__K0SkTa__brandButton",brandChevron:"Toolbar-module-scss-module__K0SkTa__brandChevron",brandIcon:"Toolbar-module-scss-module__K0SkTa__brandIcon",brandTitle:"Toolbar-module-scss-module__K0SkTa__brandTitle",clearButton:"Toolbar-module-scss-module__K0SkTa__clearButton",dimensionInputs:"Toolbar-module-scss-module__K0SkTa__dimensionInputs",fileMenu:"Toolbar-module-scss-module__K0SkTa__fileMenu",frameConfig:"Toolbar-module-scss-module__K0SkTa__frameConfig",gridButton:"Toolbar-module-scss-module__K0SkTa__gridButton",gridControls:"Toolbar-module-scss-module__K0SkTa__gridControls",gridSizeSelect:"Toolbar-module-scss-module__K0SkTa__gridSizeSelect",historyButton:"Toolbar-module-scss-module__K0SkTa__historyButton",historyControls:"Toolbar-module-scss-module__K0SkTa__historyControls",historyDivider:"Toolbar-module-scss-module__K0SkTa__historyDivider",input:"Toolbar-module-scss-module__K0SkTa__input",inputWrapper:"Toolbar-module-scss-module__K0SkTa__inputWrapper",menuFadeIn:"Toolbar-module-scss-module__K0SkTa__menuFadeIn",menuItem:"Toolbar-module-scss-module__K0SkTa__menuItem",presetSelect:"Toolbar-module-scss-module__K0SkTa__presetSelect",separator:"Toolbar-module-scss-module__K0SkTa__separator",sizeSelector:"Toolbar-module-scss-module__K0SkTa__sizeSelector",toolbar:"Toolbar-module-scss-module__K0SkTa__toolbar",unit:"Toolbar-module-scss-module__K0SkTa__unit",unitButton:"Toolbar-module-scss-module__K0SkTa__unitButton",unitButtonActive:"Toolbar-module-scss-module__K0SkTa__unitButtonActive",unitIcon:"Toolbar-module-scss-module__K0SkTa__unitIcon",unitSwitch:"Toolbar-module-scss-module__K0SkTa__unitSwitch",viewControls:"Toolbar-module-scss-module__K0SkTa__viewControls",zoomButton:"Toolbar-module-scss-module__K0SkTa__zoomButton",zoomControls:"Toolbar-module-scss-module__K0SkTa__zoomControls",zoomDisplay:"Toolbar-module-scss-module__K0SkTa__zoomDisplay",zoomReset:"Toolbar-module-scss-module__K0SkTa__zoomReset"})},43074,(e,t,r)=>{"use strict";function n({widthInt:e,heightInt:t,blurWidth:r,blurHeight:n,blurDataURL:o,objectFit:l}){let a=r?40*r:e,i=n?40*n:t,s=a&&i?`viewBox='0 0 ${a} ${i}'`:"";return`%3Csvg xmlns='http://www.w3.org/2000/svg' ${s}%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3CfeColorMatrix values='1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1' result='s'/%3E%3CfeFlood x='0' y='0' width='100%25' height='100%25'/%3E%3CfeComposite operator='out' in='s'/%3E%3CfeComposite in2='SourceGraphic'/%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3C/filter%3E%3Cimage width='100%25' height='100%25' x='0' y='0' preserveAspectRatio='${s?"none":"contain"===l?"xMidYMid":"cover"===l?"xMidYMid slice":"none"}' style='filter: url(%23b);' href='${o}'/%3E%3C/svg%3E`}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"getImageBlurSvg",{enumerable:!0,get:function(){return n}})},41439,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={VALID_LOADERS:function(){return l},imageConfigDefault:function(){return a}};for(var o in n)Object.defineProperty(r,o,{enumerable:!0,get:n[o]});let l=["default","imgix","cloudinary","akamai","custom"],a={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],path:"/_next/image",loader:"default",loaderFile:"",domains:[],disableStaticImages:!1,minimumCacheTTL:14400,formats:["image/webp"],maximumRedirects:3,maximumResponseBody:5e7,dangerouslyAllowLocalIP:!1,dangerouslyAllowSVG:!1,contentSecurityPolicy:"script-src 'none'; frame-src 'none'; sandbox;",contentDispositionType:"attachment",localPatterns:void 0,remotePatterns:[],qualities:[75],unoptimized:!1}},97750,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"getImgProps",{enumerable:!0,get:function(){return u}}),e.r(71559);let n=e.r(21282),o=e.r(43074),l=e.r(41439),a=["-moz-initial","fill","none","scale-down",void 0];function i(e){return void 0!==e.default}function s(e){return void 0===e?e:"number"==typeof e?Number.isFinite(e)?e:NaN:"string"==typeof e&&/^[0-9]+$/.test(e)?parseInt(e,10):NaN}function u({src:e,sizes:t,unoptimized:r=!1,priority:u=!1,preload:c=!1,loading:d,className:m,quality:f,width:h,height:p,fill:g=!1,style:_,overrideSrc:y,onLoad:v,onLoadingComplete:x,placeholder:b="empty",blurDataURL:w,fetchPriority:M,decoding:k="async",layout:C,objectFit:j,objectPosition:S,lazyBoundary:I,lazyRoot:E,...z},P){var T;let N,R,A,{imgConf:$,showAltText:F,blurComplete:B,defaultLoader:O}=P,W=$||l.imageConfigDefault;if("allSizes"in W)N=W;else{let e=[...W.deviceSizes,...W.imageSizes].sort((e,t)=>e-t),t=W.deviceSizes.sort((e,t)=>e-t),r=W.qualities?.sort((e,t)=>e-t);N={...W,allSizes:e,deviceSizes:t,qualities:r}}if(void 0===O)throw Object.defineProperty(Error("images.loaderFile detected but the file is missing default export.\nRead more: https://nextjs.org/docs/messages/invalid-images-config"),"__NEXT_ERROR_CODE",{value:"E163",enumerable:!1,configurable:!0});let L=z.loader||O;delete z.loader,delete z.srcSet;let D="__next_img_default"in L;if(D){if("custom"===N.loader)throw Object.defineProperty(Error(`Image with src "${e}" is missing "loader" prop.
Read more: https://nextjs.org/docs/messages/next-image-missing-loader`),"__NEXT_ERROR_CODE",{value:"E252",enumerable:!1,configurable:!0})}else{let e=L;L=t=>{let{config:r,...n}=t;return e(n)}}if(C){"fill"===C&&(g=!0);let e={intrinsic:{maxWidth:"100%",height:"auto"},responsive:{width:"100%",height:"auto"}}[C];e&&(_={..._,...e});let r={responsive:"100vw",fill:"100vw"}[C];r&&!t&&(t=r)}let U="",H=s(h),K=s(p);if((T=e)&&"object"==typeof T&&(i(T)||void 0!==T.src)){let t=i(e)?e.default:e;if(!t.src)throw Object.defineProperty(Error(`An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received ${JSON.stringify(t)}`),"__NEXT_ERROR_CODE",{value:"E460",enumerable:!1,configurable:!0});if(!t.height||!t.width)throw Object.defineProperty(Error(`An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received ${JSON.stringify(t)}`),"__NEXT_ERROR_CODE",{value:"E48",enumerable:!1,configurable:!0});if(R=t.blurWidth,A=t.blurHeight,w=w||t.blurDataURL,U=t.src,!g)if(H||K){if(H&&!K){let e=H/t.width;K=Math.round(t.height*e)}else if(!H&&K){let e=K/t.height;H=Math.round(t.width*e)}}else H=t.width,K=t.height}let q=!u&&!c&&("lazy"===d||void 0===d);(!(e="string"==typeof e?e:U)||e.startsWith("data:")||e.startsWith("blob:"))&&(r=!0,q=!1),N.unoptimized&&(r=!0),D&&!N.dangerouslyAllowSVG&&e.split("?",1)[0].endsWith(".svg")&&(r=!0);let G=s(f),X=Object.assign(g?{position:"absolute",height:"100%",width:"100%",left:0,top:0,right:0,bottom:0,objectFit:j,objectPosition:S}:{},F?{}:{color:"transparent"},_),Y=B||"empty"===b?null:"blur"===b?`url("data:image/svg+xml;charset=utf-8,${(0,o.getImageBlurSvg)({widthInt:H,heightInt:K,blurWidth:R,blurHeight:A,blurDataURL:w||"",objectFit:X.objectFit})}")`:`url("${b}")`,V=a.includes(X.objectFit)?"fill"===X.objectFit?"100% 100%":"cover":X.objectFit,Z=Y?{backgroundSize:V,backgroundPosition:X.objectPosition||"50% 50%",backgroundRepeat:"no-repeat",backgroundImage:Y}:{},J=function({config:e,src:t,unoptimized:r,width:o,quality:l,sizes:a,loader:i}){if(r){let e=(0,n.getDeploymentId)();if(t.startsWith("/")&&!t.startsWith("//")&&e){let r=t.includes("?")?"&":"?";t=`${t}${r}dpl=${e}`}return{src:t,srcSet:void 0,sizes:void 0}}let{widths:s,kind:u}=function({deviceSizes:e,allSizes:t},r,n){if(n){let r=/(^|\s)(1?\d?\d)vw/g,o=[];for(let e;e=r.exec(n);)o.push(parseInt(e[2]));if(o.length){let r=.01*Math.min(...o);return{widths:t.filter(t=>t>=e[0]*r),kind:"w"}}return{widths:t,kind:"w"}}return"number"!=typeof r?{widths:e,kind:"w"}:{widths:[...new Set([r,2*r].map(e=>t.find(t=>t>=e)||t[t.length-1]))],kind:"x"}}(e,o,a),c=s.length-1;return{sizes:a||"w"!==u?a:"100vw",srcSet:s.map((r,n)=>`${i({config:e,src:t,quality:l,width:r})} ${"w"===u?r:n+1}${u}`).join(", "),src:i({config:e,src:t,quality:l,width:s[c]})}}({config:N,src:e,unoptimized:r,width:H,quality:G,sizes:t,loader:L}),Q=q?"lazy":d;return{props:{...z,loading:Q,fetchPriority:M,width:H,height:K,decoding:k,className:m,style:{...X,...Z},sizes:J.sizes,srcSet:J.srcSet,src:y||J.src},meta:{unoptimized:r,preload:c||u,placeholder:b,fill:g}}}},48537,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return i}});let n=e.r(98755),o="u"<typeof window,l=o?()=>{}:n.useLayoutEffect,a=o?()=>{}:n.useEffect;function i(e){let{headManager:t,reduceComponentsToState:r}=e;function i(){if(t&&t.mountedInstances){let e=n.Children.toArray(Array.from(t.mountedInstances).filter(Boolean));t.updateHead(r(e))}}return o&&(t?.mountedInstances?.add(e.children),i()),l(()=>(t?.mountedInstances?.add(e.children),()=>{t?.mountedInstances?.delete(e.children)})),l(()=>(t&&(t._pendingUpdate=i),()=>{t&&(t._pendingUpdate=i)})),a(()=>(t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null),()=>{t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null)})),null}},36523,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={default:function(){return p},defaultHead:function(){return d}};for(var o in n)Object.defineProperty(r,o,{enumerable:!0,get:n[o]});let l=e.r(81258),a=e.r(44066),i=e.r(1840),s=a._(e.r(98755)),u=l._(e.r(48537)),c=e.r(52759);function d(){return[(0,i.jsx)("meta",{charSet:"utf-8"},"charset"),(0,i.jsx)("meta",{name:"viewport",content:"width=device-width"},"viewport")]}function m(e,t){return"string"==typeof t||"number"==typeof t?e:t.type===s.default.Fragment?e.concat(s.default.Children.toArray(t.props.children).reduce((e,t)=>"string"==typeof t||"number"==typeof t?e:e.concat(t),[])):e.concat(t)}e.r(71559);let f=["name","httpEquiv","charSet","itemProp"];function h(e){let t,r,n,o;return e.reduce(m,[]).reverse().concat(d().reverse()).filter((t=new Set,r=new Set,n=new Set,o={},e=>{let l=!0,a=!1;if(e.key&&"number"!=typeof e.key&&e.key.indexOf("$")>0){a=!0;let r=e.key.slice(e.key.indexOf("$")+1);t.has(r)?l=!1:t.add(r)}switch(e.type){case"title":case"base":r.has(e.type)?l=!1:r.add(e.type);break;case"meta":for(let t=0,r=f.length;t<r;t++){let r=f[t];if(e.props.hasOwnProperty(r))if("charSet"===r)n.has(r)?l=!1:n.add(r);else{let t=e.props[r],n=o[r]||new Set;("name"!==r||!a)&&n.has(t)?l=!1:(n.add(t),o[r]=n)}}}return l})).reverse().map((e,t)=>{let r=e.key||t;return s.default.cloneElement(e,{key:r})})}let p=function({children:e}){let t=(0,s.useContext)(c.HeadManagerContext);return(0,i.jsx)(u.default,{reduceComponentsToState:h,headManager:t,children:e})};("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},5303,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"ImageConfigContext",{enumerable:!0,get:function(){return l}});let n=e.r(81258)._(e.r(98755)),o=e.r(41439),l=n.default.createContext(o.imageConfigDefault)},85716,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"RouterContext",{enumerable:!0,get:function(){return n}});let n=e.r(81258)._(e.r(98755)).default.createContext(null)},83032,(e,t,r)=>{"use strict";function n(e,t){let r=e||75;return t?.qualities?.length?t.qualities.reduce((e,t)=>Math.abs(t-r)<Math.abs(e-r)?t:e,0):r}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"findClosestQuality",{enumerable:!0,get:function(){return n}})},64685,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return a}});let n=e.r(83032),o=e.r(21282);function l({config:e,src:t,width:r,quality:l}){if(t.startsWith("/")&&t.includes("?")&&e.localPatterns?.length===1&&"**"===e.localPatterns[0].pathname&&""===e.localPatterns[0].search)throw Object.defineProperty(Error(`Image with src "${t}" is using a query string which is not configured in images.localPatterns.
Read more: https://nextjs.org/docs/messages/next-image-unconfigured-localpatterns`),"__NEXT_ERROR_CODE",{value:"E871",enumerable:!1,configurable:!0});let a=(0,n.findClosestQuality)(l,e),i=(0,o.getDeploymentId)();return`${e.path}?url=${encodeURIComponent(t)}&w=${r}&q=${a}${t.startsWith("/")&&i?`&dpl=${i}`:""}`}l.__next_img_default=!0;let a=l},256,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"useMergedRef",{enumerable:!0,get:function(){return o}});let n=e.r(98755);function o(e,t){let r=(0,n.useRef)(null),o=(0,n.useRef)(null);return(0,n.useCallback)(n=>{if(null===n){let e=r.current;e&&(r.current=null,e());let t=o.current;t&&(o.current=null,t())}else e&&(r.current=l(e,n)),t&&(o.current=l(t,n))},[e,t])}function l(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},97945,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"Image",{enumerable:!0,get:function(){return x}});let n=e.r(81258),o=e.r(44066),l=e.r(1840),a=o._(e.r(98755)),i=n._(e.r(90260)),s=n._(e.r(36523)),u=e.r(97750),c=e.r(41439),d=e.r(5303);e.r(71559);let m=e.r(85716),f=n._(e.r(64685)),h=e.r(256),p={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],qualities:[75],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0};function g(e,t,r,n,o,l,a){let i=e?.src;e&&e["data-loaded-src"]!==i&&(e["data-loaded-src"]=i,("decode"in e?e.decode():Promise.resolve()).catch(()=>{}).then(()=>{if(e.parentElement&&e.isConnected){if("empty"!==t&&o(!0),r?.current){let t=new Event("load");Object.defineProperty(t,"target",{writable:!1,value:e});let n=!1,o=!1;r.current({...t,nativeEvent:t,currentTarget:e,target:e,isDefaultPrevented:()=>n,isPropagationStopped:()=>o,persist:()=>{},preventDefault:()=>{n=!0,t.preventDefault()},stopPropagation:()=>{o=!0,t.stopPropagation()}})}n?.current&&n.current(e)}}))}function _(e){return a.use?{fetchPriority:e}:{fetchpriority:e}}"u"<typeof window&&(globalThis.__NEXT_IMAGE_IMPORTED=!0);let y=(0,a.forwardRef)(({src:e,srcSet:t,sizes:r,height:n,width:o,decoding:i,className:s,style:u,fetchPriority:c,placeholder:d,loading:m,unoptimized:f,fill:p,onLoadRef:y,onLoadingCompleteRef:v,setBlurComplete:x,setShowAltText:b,sizesInput:w,onLoad:M,onError:k,...C},j)=>{let S=(0,a.useCallback)(e=>{e&&(k&&(e.src=e.src),e.complete&&g(e,d,y,v,x,f,w))},[e,d,y,v,x,k,f,w]),I=(0,h.useMergedRef)(j,S);return(0,l.jsx)("img",{...C,..._(c),loading:m,width:o,height:n,decoding:i,"data-nimg":p?"fill":"1",className:s,style:u,sizes:r,srcSet:t,src:e,ref:I,onLoad:e=>{g(e.currentTarget,d,y,v,x,f,w)},onError:e=>{b(!0),"empty"!==d&&x(!0),k&&k(e)}})});function v({isAppRouter:e,imgAttributes:t}){let r={as:"image",imageSrcSet:t.srcSet,imageSizes:t.sizes,crossOrigin:t.crossOrigin,referrerPolicy:t.referrerPolicy,..._(t.fetchPriority)};return e&&i.default.preload?(i.default.preload(t.src,r),null):(0,l.jsx)(s.default,{children:(0,l.jsx)("link",{rel:"preload",href:t.srcSet?void 0:t.src,...r},"__nimg-"+t.src+t.srcSet+t.sizes)})}let x=(0,a.forwardRef)((e,t)=>{let r=(0,a.useContext)(m.RouterContext),n=(0,a.useContext)(d.ImageConfigContext),o=(0,a.useMemo)(()=>{let e=p||n||c.imageConfigDefault,t=[...e.deviceSizes,...e.imageSizes].sort((e,t)=>e-t),r=e.deviceSizes.sort((e,t)=>e-t),o=e.qualities?.sort((e,t)=>e-t);return{...e,allSizes:t,deviceSizes:r,qualities:o,localPatterns:"u"<typeof window?n?.localPatterns:e.localPatterns}},[n]),{onLoad:i,onLoadingComplete:s}=e,h=(0,a.useRef)(i);(0,a.useEffect)(()=>{h.current=i},[i]);let g=(0,a.useRef)(s);(0,a.useEffect)(()=>{g.current=s},[s]);let[_,x]=(0,a.useState)(!1),[b,w]=(0,a.useState)(!1),{props:M,meta:k}=(0,u.getImgProps)(e,{defaultLoader:f.default,imgConf:o,blurComplete:_,showAltText:b});return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(y,{...M,unoptimized:k.unoptimized,placeholder:k.placeholder,fill:k.fill,onLoadRef:h,onLoadingCompleteRef:g,setBlurComplete:x,setShowAltText:w,sizesInput:e.sizes,ref:t}),k.preload?(0,l.jsx)(v,{isAppRouter:!r,imgAttributes:M}):null]})});("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},94216,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={default:function(){return c},getImageProps:function(){return u}};for(var o in n)Object.defineProperty(r,o,{enumerable:!0,get:n[o]});let l=e.r(81258),a=e.r(97750),i=e.r(97945),s=l._(e.r(64685));function u(e){let{props:t}=(0,a.getImgProps)(e,{defaultLoader:s.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],qualities:[75],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}}let c=i.Image},55281,(e,t,r)=>{t.exports=e.r(94216)},5585,e=>{e.v({bar:"ColorPickerBar-module-scss-module__2OfhMa__bar",customBtn:"ColorPickerBar-module-scss-module__2OfhMa__customBtn",hexInput:"ColorPickerBar-module-scss-module__2OfhMa__hexInput",panel:"ColorPickerBar-module-scss-module__2OfhMa__panel",swatch:"ColorPickerBar-module-scss-module__2OfhMa__swatch"})},69143,e=>{e.v({corner:"ArtFrame-module-scss-module__6RFTia__corner ArtFrame-module-scss-module__6RFTia__piece",mat:"ArtFrame-module-scss-module__6RFTia__mat",piece:"ArtFrame-module-scss-module__6RFTia__piece"})},15521,e=>{e.v({active:"FramePicker-module-scss-module__b7FU-q__active",backdrop:"FramePicker-module-scss-module__b7FU-q__backdrop",cell:"FramePicker-module-scss-module__b7FU-q__cell",closeButton:"FramePicker-module-scss-module__b7FU-q__closeButton",grid:"FramePicker-module-scss-module__b7FU-q__grid",header:"FramePicker-module-scss-module__b7FU-q__header",open:"FramePicker-module-scss-module__b7FU-q__open",panel:"FramePicker-module-scss-module__b7FU-q__panel",pictureArea:"FramePicker-module-scss-module__b7FU-q__pictureArea",previewImage:"FramePicker-module-scss-module__b7FU-q__previewImage",previewWrapper:"FramePicker-module-scss-module__b7FU-q__previewWrapper",title:"FramePicker-module-scss-module__b7FU-q__title"})},5469,e=>{e.v({bar:"PopupBar-module-scss-module__gzokFG__bar",button:"PopupBar-module-scss-module__gzokFG__button"})},57235,e=>{e.v({label:"PopupSlider-module-scss-module__B2mJyG__label",popup:"PopupSlider-module-scss-module__B2mJyG__popup",slider:"PopupSlider-module-scss-module__B2mJyG__slider"})},34545,e=>{e.v({artItem:"ArtItem-module-scss-module__iyIsUa__artItem",chipFrame:"ArtItem-module-scss-module__iyIsUa__chipFrame",chipFrameWrap:"ArtItem-module-scss-module__iyIsUa__chipFrameWrap",chipImage:"ArtItem-module-scss-module__iyIsUa__chipImage",chipMat:"ArtItem-module-scss-module__iyIsUa__chipMat",chipMatWrap:"ArtItem-module-scss-module__iyIsUa__chipMatWrap",contextMenuBottom:"ArtItem-module-scss-module__iyIsUa__contextMenuBottom",dimensionSelect:"ArtItem-module-scss-module__iyIsUa__dimensionSelect",dimensionTagRow:"ArtItem-module-scss-module__iyIsUa__dimensionTagRow",frameImage:"ArtItem-module-scss-module__iyIsUa__frameImage",framePlaceholder:"ArtItem-module-scss-module__iyIsUa__framePlaceholder",heightLabel:"ArtItem-module-scss-module__iyIsUa__heightLabel",hiddenInput:"ArtItem-module-scss-module__iyIsUa__hiddenInput",matArea:"ArtItem-module-scss-module__iyIsUa__matArea",pictureArea:"ArtItem-module-scss-module__iyIsUa__pictureArea",resizeCorner:"ArtItem-module-scss-module__iyIsUa__resizeCorner",resizeCornerBl:"ArtItem-module-scss-module__iyIsUa__resizeCornerBl ArtItem-module-scss-module__iyIsUa__resizeCorner",resizeCornerBr:"ArtItem-module-scss-module__iyIsUa__resizeCornerBr ArtItem-module-scss-module__iyIsUa__resizeCorner",resizeCornerTl:"ArtItem-module-scss-module__iyIsUa__resizeCornerTl ArtItem-module-scss-module__iyIsUa__resizeCorner",resizeCornerTr:"ArtItem-module-scss-module__iyIsUa__resizeCornerTr ArtItem-module-scss-module__iyIsUa__resizeCorner",resizeEdgeBottom:"ArtItem-module-scss-module__iyIsUa__resizeEdgeBottom",resizeEdgeLeft:"ArtItem-module-scss-module__iyIsUa__resizeEdgeLeft",resizeEdgeRight:"ArtItem-module-scss-module__iyIsUa__resizeEdgeRight",resizeEdgeTop:"ArtItem-module-scss-module__iyIsUa__resizeEdgeTop",selected:"ArtItem-module-scss-module__iyIsUa__selected",widthLabel:"ArtItem-module-scss-module__iyIsUa__widthLabel"})},11348,e=>{e.v({canvas:"Canvas-module-scss-module__7AI__W__canvas",contentLayer:"Canvas-module-scss-module__7AI__W__contentLayer"})},82763,e=>{e.v({container:"WallArt-module-scss-module__s5fRHq__container"})},38103,e=>{"use strict";let t;var r=e.i(1840),n=e.i(50471),o=e.i(98755);function l(e){return new Promise((t,r)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>r(e.error)})}function a(){var e;let r;return t||(e="keyval",t=(t,n)=>(()=>{if(r)return r;let t=indexedDB.open("keyval-store");return t.onupgradeneeded=()=>t.result.createObjectStore(e),(r=l(t)).then(e=>{e.onclose=()=>r=void 0},()=>{}),r})().then(r=>n(r.transaction(e,t).objectStore(e)))),t}let i=1/3,s=["#e2e8f0","#fecaca","#fed7aa","#fef08a","#d9f99d","#bbf7d0","#a5f3fc","#bfdbfe","#ddd6fe","#fbcfe8"],u="#ffffff",c=["#ffffff","#faf8f5","#f5f0e8","#f0ead6","#e8dcc8","#dac0a7","#b8a88a","#36454f","#1a1a2e","#3c1518"],d={metric:{presets:[{w:100,h:150,name:"4R"},{w:130,h:180,name:"5R"},{w:148,h:210,name:"A5"},{w:150,h:200},{w:176,h:250,name:"B5"},{w:200,h:200},{w:200,h:250},{w:200,h:300},{w:210,h:297,name:"A4"},{w:250,h:353,name:"B4"},{w:297,h:420,name:"A3"},{w:300,h:300},{w:300,h:400},{w:300,h:450},{w:353,h:500,name:"B3"},{w:400,h:500},{w:400,h:600},{w:420,h:594,name:"A2"},{w:500,h:500},{w:500,h:700},{w:594,h:841,name:"A1"},{w:600,h:800},{w:600,h:900},{w:700,h:1e3},{w:707,h:1e3,name:"B1"}],gridOptions:[5,10,25,50,100],defaultPresetIndex:19,defaultGridIndex:1},imperial:{presets:[{w:101.6,h:152.4},{w:127,h:177.8},{w:203.2,h:203.2},{w:203.2,h:254},{w:215.9,h:279.4,name:"Letter"},{w:279.4,h:355.6},{w:279.4,h:431.8,name:"Tabloid"},{w:304.8,h:304.8},{w:304.8,h:406.4},{w:304.8,h:457.2},{w:330.2,h:482.6,name:"Super B"},{w:406.4,h:406.4},{w:406.4,h:508},{w:457.2,h:609.6},{w:508,h:508},{w:508,h:609.6},{w:508,h:762},{w:558.8,h:711.2,name:"Gallery"},{w:609.6,h:609.6},{w:609.6,h:914.4,name:"Poster"},{w:685.8,h:1016,name:"Movie Poster"},{w:762,h:762},{w:762,h:1016},{w:914.4,h:1219.2},{w:1016,h:1524}],gridOptions:[6.35,12.7,25.4,38.1,50.8],defaultPresetIndex:19,defaultGridIndex:1}},m=e=>25.4*e,f=e=>Math.round(e/25.4*100)/100,h=e=>10*e,p=e=>Math.round(e)/10,g=(e,t)=>{let r="metric"===t?p(e.w):f(e.w),n="metric"===t?p(e.h):f(e.h);return`${r} \xd7 ${n} ${"metric"===t?"cm":"in"}${e.name?` (${e.name})`:""}`},_="wap:settings",y="wap:canvas",v=e=>"number"==typeof e&&Number.isFinite(e),x=e=>v(e)&&e>0,b=d.metric.presets[0],w=e=>e&&"object"==typeof e?{id:v(e.id)?e.id:Date.now(),leftMm:v(e.leftMm)?e.leftMm:v(e.x)?e.x:0,topMm:v(e.topMm)?e.topMm:v(e.y)?e.y:0,artWidthMm:x(e.artWidthMm)?e.artWidthMm:x(e.w)?e.w:b.w,artHeightMm:x(e.artHeightMm)?e.artHeightMm:x(e.h)?e.h:b.h,color:"string"==typeof e.color&&e.color.length>0?e.color:s[0],image:"string"==typeof e.image?e.image:null,imageType:"string"==typeof e.imageType?e.imageType:null,imageName:"string"==typeof e.imageName?e.imageName:null,rotation:v(e.rotation)?e.rotation:0,visualFrame:"string"==typeof e.visualFrame?e.visualFrame:null,frameThicknessMm:x(e.frameThicknessMm)?e.frameThicknessMm:null,matThicknessMm:x(e.matThicknessMm)?e.matThicknessMm:null,matColor:"string"==typeof e.matColor&&e.matColor.length>0?e.matColor:u}:null,M=async()=>{try{let e=await function(e,t=a()){return t("readonly",t=>l(t.get(e)))}(y);if(!e||!Array.isArray(e.items))return[];return e.items.map(w).filter(e=>null!==e)}catch{return[]}},k=(e,t=2)=>Math.round(e*Math.pow(10,t))/Math.pow(10,t)||0,C=e=>({...e,leftMm:k(e.leftMm),topMm:k(e.topMm),artWidthMm:k(e.artWidthMm),artHeightMm:k(e.artHeightMm),rotation:k(e.rotation),frameThicknessMm:null!==e.frameThicknessMm?k(e.frameThicknessMm):null,matThicknessMm:null!==e.matThicknessMm?k(e.matThicknessMm):null}),j=async e=>{try{let t=e.map(C);await function(e,t,r=a()){return r("readwrite",r=>(r.put(t,e),l(r.transaction)))}(y,{version:1,items:t})}catch{}},S=async()=>{try{await function(e,t=a()){return t("readwrite",t=>(t.delete(e),l(t.transaction)))}(y)}catch{}};function I(e){return e.leftMm}function E(e){return e.topMm}function z(){S()}let P=(e,t)=>"function"==typeof e?e(t):e,T=(e,t)=>{let r=new Set(e.map(e=>e.id));return t.filter(e=>!r.has(e.id)).map(e=>e.id)};function N(e){if(0===e.past.length)return e;let t=e.past[e.past.length-1],r=T(e.present,t);return{past:e.past.slice(0,-1),present:t,future:[e.present,...e.future],restoredGen:r.length>0?e.restoredGen+1:e.restoredGen,restoredIds:r}}function R(e){if(0===e.future.length)return e;let t=e.future[0],r=T(e.present,t);return{past:[...e.past,e.present],present:t,future:e.future.slice(1),restoredGen:r.length>0?e.restoredGen+1:e.restoredGen,restoredIds:r}}let A=(0,o.createContext)(void 0),$=()=>{let e=(0,o.useContext)(A);if(!e)throw Error("useWallArt must be used within WallArtProvider");return e},F=d.metric.gridOptions[d.metric.defaultGridIndex],B=d.metric.defaultPresetIndex,O=e=>{var t,l;let a,i,s,u,c,m,f,h,p,g,y,b,w,k,C,S,T,$,O,W,L,D,U,H,K,q=(0,n.c)(54),{children:G}=e,{items:X,setItems:Y,pushState:V,beginContinuous:Z,endContinuous:J,undo:Q,redo:ee,canUndo:et,canRedo:er,restoredInfo:en,resetPresent:eo}=(e=>{let t,r,l,a,i,s,u,c,d,m,f,h,p,g,_=(0,n.c)(22);_[0]!==e?(t=void 0===e?[]:e,_[0]=e,_[1]=t):t=_[1];let y=t;_[2]===Symbol.for("react.memo_cache_sentinel")?(r=[],_[2]=r):r=_[2],_[3]===Symbol.for("react.memo_cache_sentinel")?(l=[],_[3]=l):l=_[3],_[4]===Symbol.for("react.memo_cache_sentinel")?(a=[],_[4]=a):a=_[4],_[5]!==y?(i={past:r,present:y,future:l,restoredGen:0,restoredIds:a},_[5]=y,_[6]=i):i=_[6];let[v,x]=(0,o.useState)(i),b=(0,o.useRef)(null);_[7]===Symbol.for("react.memo_cache_sentinel")?(s=e=>{x(t=>({...t,present:P(e,t.present)}))},_[7]=s):s=_[7];let w=s;_[8]===Symbol.for("react.memo_cache_sentinel")?(u=e=>{x(t=>({...t,past:[...t.past,t.present].slice(-50),present:P(e,t.present),future:[]}))},_[8]=u):u=_[8];let M=u;_[9]===Symbol.for("react.memo_cache_sentinel")?(c=()=>{x(e=>(b.current=e.present,e))},_[9]=c):c=_[9];let k=c;_[10]===Symbol.for("react.memo_cache_sentinel")?(d=()=>{let e=b.current;null!==e&&(b.current=null,x(t=>t.present===e?t:{...t,past:[...t.past,e].slice(-50),present:t.present,future:[]}))},_[10]=d):d=_[10];let C=d;_[11]===Symbol.for("react.memo_cache_sentinel")?(m=()=>{x(N)},_[11]=m):m=_[11];let j=m;_[12]===Symbol.for("react.memo_cache_sentinel")?(f=()=>{x(R)},_[12]=f):f=_[12];let S=f;_[13]===Symbol.for("react.memo_cache_sentinel")?(h=e=>{x(t=>({...t,past:[],present:e,future:[]}))},_[13]=h):h=_[13];let I=h,E=v.past.length>0,z=v.future.length>0;return _[14]!==v.restoredGen||_[15]!==v.restoredIds?(p={gen:v.restoredGen,ids:v.restoredIds},_[14]=v.restoredGen,_[15]=v.restoredIds,_[16]=p):p=_[16],_[17]!==v.present||_[18]!==E||_[19]!==z||_[20]!==p?(g={items:v.present,setItems:w,pushState:M,beginContinuous:k,endContinuous:C,undo:j,redo:S,canUndo:E,canRedo:z,restoredInfo:p,resetPresent:I},_[17]=v.present,_[18]=E,_[19]=z,_[20]=p,_[21]=g):g=_[21],g})(),[el,ea]=(0,o.useState)(null),[ei,es]=(0,o.useState)(1);q[0]===Symbol.for("react.memo_cache_sentinel")?(a={x:0,y:0},q[0]=a):a=q[0];let[eu,ec]=(0,o.useState)(a),[ed,em]=(0,o.useState)(!0),[ef,eh]=(0,o.useState)(F),[ep,eg]=(0,o.useState)("metric"),[e_,ey]=(0,o.useState)(B),[ev,ex]=(0,o.useState)(!1),[eb,ew]=(0,o.useState)(!1);q[1]!==ef||q[2]!==X||q[3]!==e_||q[4]!==ed||q[5]!==ep?(i={items:X,unitSystem:ep,showGrid:ed,gridSize:ef,selectedPresetIndex:e_},q[1]=ef,q[2]=X,q[3]=e_,q[4]=ed,q[5]=ep,q[6]=i):i=q[6],q[7]===Symbol.for("react.memo_cache_sentinel")?(s=e=>{em(e.showGrid),eh(e.gridSize),eg(e.unitSystem),ey(e.selectedPresetIndex)},q[7]=s):s=q[7],q[8]!==eo?(u={setItems:eo,setCanvasReady:ex,setSettingsLoaded:ew,applySettings:s},q[8]=eo,q[9]=u):u=q[9];let{clearPersistedCanvas:eM}=(t=i,l=u,D=(0,n.c)(14),U=(0,o.useRef)(!1),H=(0,o.useRef)(void 0),K=(0,o.useRef)(l),D[0]!==l?(k=()=>{K.current=l},D[0]=l,D[1]=k):k=D[1],(0,o.useEffect)(k),D[2]===Symbol.for("react.memo_cache_sentinel")?(C=()=>{K.current.applySettings((()=>{let e={unitSystem:"metric",showGrid:!0,gridSize:d.metric.gridOptions[d.metric.defaultGridIndex],selectedPresetIndex:d.metric.defaultPresetIndex};try{let t,r=localStorage.getItem(_);if(!r)return e;let n=JSON.parse(r);if(!n||"object"!=typeof n)return e;return{unitSystem:(t=n.unitSystem,"metric"===t||"imperial"===t)?n.unitSystem:e.unitSystem,showGrid:"boolean"==typeof n.showGrid?n.showGrid:e.showGrid,gridSize:x(n.gridSize)?n.gridSize:e.gridSize,selectedPresetIndex:v(n.selectedPresetIndex)&&n.selectedPresetIndex>=0?n.selectedPresetIndex:e.selectedPresetIndex}}catch{return e}})()),Promise.resolve().then(()=>K.current.setSettingsLoaded(!0)),M().then(e=>{if(e&&e.length>0){let t=Math.min(...e.map(I)),r=Math.min(...e.map(E));(0!==t||0!==r)&&(e=e.map(e=>({...e,leftMm:e.leftMm-t,topMm:e.topMm-r}))),K.current.setItems(e)}else K.current.setCanvasReady(!0);U.current=!0})},S=[],D[2]=C,D[3]=S):(C=D[2],S=D[3]),(0,o.useEffect)(C,S),D[4]!==t.gridSize||D[5]!==t.selectedPresetIndex||D[6]!==t.showGrid||D[7]!==t.unitSystem?(T=()=>{if(U.current){var e={unitSystem:t.unitSystem,showGrid:t.showGrid,gridSize:t.gridSize,selectedPresetIndex:t.selectedPresetIndex};try{localStorage.setItem(_,JSON.stringify(e))}catch{}}},$=[t.unitSystem,t.showGrid,t.gridSize,t.selectedPresetIndex],D[4]=t.gridSize,D[5]=t.selectedPresetIndex,D[6]=t.showGrid,D[7]=t.unitSystem,D[8]=T,D[9]=$):(T=D[8],$=D[9]),(0,o.useEffect)(T,$),D[10]!==t.items?(O=()=>{if(U.current)return clearTimeout(H.current),H.current=setTimeout(()=>{j(t.items)},500),()=>clearTimeout(H.current)},W=[t.items],D[10]=t.items,D[11]=O,D[12]=W):(O=D[11],W=D[12]),(0,o.useEffect)(O,W),D[13]===Symbol.for("react.memo_cache_sentinel")?(L={clearPersistedCanvas:z},D[13]=L):L=D[13],L);q[10]!==Y?(c=e=>{ea(e),null!==e&&Y(t=>{let r=t.findIndex(t=>t.id===e);if(-1===r||r===t.length-1)return t;let n=t[r];return[...t.slice(0,r),...t.slice(r+1),n]})},q[10]=Y,q[11]=c):c=q[11];let ek=c;q[12]!==V?(m=e=>{V(t=>[...t,e]),ea(e.id)},q[12]=V,q[13]=m):m=q[13];let eC=m;q[14]!==V||q[15]!==el?(f=e=>{V(t=>t.filter(t=>t.id!==e)),el===e&&ea(null)},q[14]=V,q[15]=el,q[16]=f):f=q[16];let ej=f;q[17]!==Y?(h=(e,t)=>{Y(r=>r.map(r=>r.id===e?{...r,...t}:r))},q[17]=Y,q[18]=h):h=q[18];let eS=h;q[19]!==V?(p=(e,t)=>{V(r=>r.map(r=>r.id===e?{...r,...t}:r))},q[19]=V,q[20]=p):p=q[20];let eI=p;q[21]!==V?(g=e=>{V(e),ea(null)},q[21]=V,q[22]=g):g=q[22];let eE=g;q[23]!==eM||q[24]!==V?(y=()=>{V([]),ea(null),eM()},q[23]=eM,q[24]=V,q[25]=y):y=q[25];let ez=y;q[26]!==eC||q[27]!==Z||q[28]!==er||q[29]!==et||q[30]!==ev||q[31]!==ez||q[32]!==eI||q[33]!==J||q[34]!==ef||q[35]!==X||q[36]!==eu||q[37]!==ee||q[38]!==ej||q[39]!==eE||q[40]!==en||q[41]!==ek||q[42]!==el||q[43]!==e_||q[44]!==eb||q[45]!==ed||q[46]!==Q||q[47]!==ep||q[48]!==eS||q[49]!==ei?(b={items:X,selectedId:el,zoom:ei,pan:eu,showGrid:ed,gridSize:ef,unitSystem:ep,selectedPresetIndex:e_,canvasReady:ev,settingsLoaded:eb,addFrame:eC,removeFrame:ej,updateFrame:eS,commitFrame:eI,setSelectedId:ek,setZoom:es,setPan:ec,setShowGrid:em,setGridSize:eh,setUnitSystem:eg,setSelectedPresetIndex:ey,setCanvasReady:ex,setSettingsLoaded:ew,replaceAllItems:eE,clearAll:ez,undo:Q,redo:ee,canUndo:et,canRedo:er,restoredInfo:en,beginContinuous:Z,endContinuous:J},q[26]=eC,q[27]=Z,q[28]=er,q[29]=et,q[30]=ev,q[31]=ez,q[32]=eI,q[33]=J,q[34]=ef,q[35]=X,q[36]=eu,q[37]=ee,q[38]=ej,q[39]=eE,q[40]=en,q[41]=ek,q[42]=el,q[43]=e_,q[44]=eb,q[45]=ed,q[46]=Q,q[47]=ep,q[48]=eS,q[49]=ei,q[50]=b):b=q[50];let eP=b;return q[51]!==G||q[52]!==eP?(w=(0,r.jsx)(A.Provider,{value:eP,children:G}),q[51]=G,q[52]=eP,q[53]=w):w=q[53],w},W=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim(),L=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)};var D={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let U=(0,o.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:l="",children:a,iconNode:i,...s},u)=>(0,o.createElement)("svg",{ref:u,...D,width:t,height:t,stroke:e,strokeWidth:n?24*Number(r)/Number(t):r,className:W("lucide",l),...!a&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0;return!1})(s)&&{"aria-hidden":"true"},...s},[...i.map(([e,t])=>(0,o.createElement)(e,t)),...Array.isArray(a)?a:[a]])),H=(e,t)=>{let r=(0,o.forwardRef)(({className:r,...n},l)=>(0,o.createElement)(U,{ref:l,iconNode:t,className:W(`lucide-${L(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,r),...n}));return r.displayName=L(e),r},K=H("grid-3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),q=H("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),G=H("ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]),X=H("eraser",[["path",{d:"M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21",key:"g5wo59"}],["path",{d:"m5.082 11.09 8.828 8.828",key:"1wx5vj"}]]),Y=H("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),V=H("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),Z=H("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]),J=H("undo-2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]]),Q=H("redo-2",[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]]),ee=[{id:"010_golden_state",sprite:"/frames/010_golden_state/corners.png",pxPerMm:3.46456693,thicknessMm:25.4,corners:{tl:{x:0,y:0,w:88,h:88},tr:{x:88,y:0,w:88,h:88},bl:{x:176,y:0,w:88,h:88},br:{x:264,y:0,w:88,h:88}},hEdges:{src:"/frames/010_golden_state/h-edges.png",tileW:878,tileH:88},vEdges:{src:"/frames/010_golden_state/v-edges.png",tileW:88,tileH:1317},spriteW:352,spriteH:88},{id:"020_dark_gold_brown_bronze",sprite:"/frames/020_dark_gold_brown_bronze/corners.png",pxPerMm:3.18897638,thicknessMm:25.4,corners:{tl:{x:0,y:0,w:81,h:81},tr:{x:81,y:0,w:81,h:81},bl:{x:162,y:0,w:81,h:81},br:{x:243,y:0,w:81,h:81}},hEdges:{src:"/frames/020_dark_gold_brown_bronze/h-edges.png",tileW:846,tileH:81},vEdges:{src:"/frames/020_dark_gold_brown_bronze/v-edges.png",tileW:81,tileH:1248},spriteW:324,spriteH:81},{id:"030_rubens_brown_gold",sprite:"/frames/030_rubens_brown_gold/corners.png",pxPerMm:4.96062992,thicknessMm:25.4,corners:{tl:{x:0,y:0,w:126,h:126},tr:{x:126,y:0,w:126,h:126},bl:{x:252,y:0,w:126,h:126},br:{x:378,y:0,w:126,h:126}},hEdges:{src:"/frames/030_rubens_brown_gold/h-edges.png",tileW:930,tileH:126},vEdges:{src:"/frames/030_rubens_brown_gold/v-edges.png",tileW:126,tileH:1199},spriteW:504,spriteH:126},{id:"040_ornate_finish",sprite:"/frames/040_ornate_finish/corners.png",pxPerMm:3.34645669,thicknessMm:25.4,corners:{tl:{x:0,y:0,w:85,h:85},tr:{x:85,y:0,w:85,h:85},bl:{x:170,y:0,w:85,h:85},br:{x:255,y:0,w:85,h:85}},hEdges:{src:"/frames/040_ornate_finish/h-edges.png",tileW:865,tileH:85},vEdges:{src:"/frames/040_ornate_finish/v-edges.png",tileW:85,tileH:1320},spriteW:340,spriteH:85}],et=(e,t)=>Math.round(e/t)*t,er=e=>ee.find(t=>t.id===e),en=(e,t)=>Math.min(Math.max(e.frameThicknessMm??t.thicknessMm,5),152.4),eo=e=>{if(null===e.matThicknessMm)return 0;let t=Math.min(e.artWidthMm,e.artHeightMm)*i;return Math.min(Math.max(e.matThicknessMm,5),t)},el=e=>{let t=e.visualFrame?er(e.visualFrame):void 0,r=t?en(e,t):0;return{x:e.leftMm,y:e.topMm,w:e.artWidthMm+2*r,h:e.artHeightMm+2*r}},ea=()=>"u">typeof navigator&&/Mac|iPhone|iPad|iPod/.test(navigator.userAgent)?"⌘":"Ctrl",ei={top:56,right:0,bottom:44,left:0},es=(e,t,r,n,o,l,a,i=ei)=>{let s,u,c=el(e),d=n*o,m=i.top/d,f=i.bottom/d,h=-l.x/d,p=-l.y/d,g=(t-l.x)/d,_=(r-l.y)/d,y=c.x+c.w,v=c.y+c.h;if(c.x>=h&&c.y-m>=p&&y<=g&&v+f<=_)return null;let x=c.x<h,b=y>g,w=c.y-m<p,M=v+f>_,k=Math.min(h,c.x),C=Math.min(p,c.y),j=Math.max(g,y),S=Math.max(_,v),I=Math.max(a,Math.min(o,t/((j-k)*n),(r-10-20-i.top-i.bottom)/((S-C)*n)));return s=x&&b?t/2-(k+j)/2*n*I:x?t-g*n*I:b?-h*n*I:t/2-(h+g)/2*n*I,u=w&&M?r/2-(C+S)/2*n*I:w?r-i.bottom-_*n*I:M?i.top-p*n*I:r/2-(p+_)/2*n*I,{zoom:I,pan:{x:Number.isFinite(s)?s:0,y:Number.isFinite(u)?u:0}}},eu=(e,t,r,n,o,l,a=ei)=>{if(0===e.length)return{zoom:1,pan:{x:0,y:0}};let i=e.map(el),s=Math.min(...i.map(e=>e.x)),u=Math.min(...i.map(e=>e.y)),c=Math.max(...i.map(e=>e.x+e.w)),d=Math.max(...i.map(e=>e.y+e.h)),m=a.top+10,f=a.right,h=a.bottom+20,p=a.left,g=Math.min((t-p-f)/((c-s)*n),(r-m-h)/((d-u)*n)),_=Number.isFinite(g)?Math.min(l,Math.max(o,g)):1,y=t/2-(s+c)/2*n*_+(p-f)/2,v=r/2-(u+d)/2*n*_+(m-h)/2;return{zoom:_,pan:{x:Number.isFinite(y)?y:0,y:Number.isFinite(v)?v:0}}};var ec=e.i(90260);let ed=H("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var em=e.i(57097);let ef=e=>{let t,l,a,i,s,u,c,d,m,f=(0,n.c)(20),{message:h,confirmLabel:p,onConfirm:g,onCancel:_}=e,y=void 0===p?"Clear":p,v=(0,o.useRef)(null),x=_??g;return f[0]!==x?(t=()=>{let e=e=>{"Escape"===e.key&&x()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},l=[x],f[0]=x,f[1]=t,f[2]=l):(t=f[1],l=f[2]),(0,o.useEffect)(t,l),f[3]===Symbol.for("react.memo_cache_sentinel")?(a=(0,r.jsx)(ed,{size:16,className:em.default.icon}),f[3]=a):a=f[3],f[4]!==h?(i=(0,r.jsxs)("p",{className:em.default.message,children:[a,h]}),f[4]=h,f[5]=i):i=f[5],f[6]!==_?(s=_&&(0,r.jsx)("button",{onClick:_,className:em.default.cancelButton,children:"Cancel"}),f[6]=_,f[7]=s):s=f[7],f[8]!==y||f[9]!==g?(u=(0,r.jsx)("button",{onClick:g,className:em.default.confirmButton,children:y}),f[8]=y,f[9]=g,f[10]=u):u=f[10],f[11]!==s||f[12]!==u?(c=(0,r.jsxs)("div",{className:em.default.actions,children:[s,u]}),f[11]=s,f[12]=u,f[13]=c):c=f[13],f[14]!==i||f[15]!==c?(d=(0,r.jsxs)("div",{className:em.default.dialog,ref:v,onClick:eh,children:[i,c]}),f[14]=i,f[15]=c,f[16]=d):d=f[16],f[17]!==x||f[18]!==d?(m=(0,ec.createPortal)((0,r.jsx)("div",{className:em.default.overlay,onClick:x,children:d}),document.body),f[17]=x,f[18]=d,f[19]=m):m=f[19],m};function eh(e){return e.stopPropagation()}let ep=()=>{let e=new Date().toISOString().replace(/[:.]/g,"-").slice(0,-5);return`${e}.wallart`},eg=async(e,t)=>{let r=new Blob([JSON.stringify({version:1,items:e.map(C),unitSystem:t},null,2)],{type:"application/json"});if("function"==typeof window.showSaveFilePicker)try{let e=await window.showSaveFilePicker({suggestedName:ep(),types:[{description:"Wall Art files",accept:{"application/json":[".wallart"]}}]}),t=await e.createWritable();await t.write(r),await t.close();return}catch(e){if(e instanceof DOMException&&"AbortError"===e.name)return;throw e}let n=URL.createObjectURL(r),o=document.createElement("a");o.href=n,o.download=ep(),document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(n)};var e_=e.i(87157);let ey=e=>{let t,o,l,a,i,s,u,c,m,f,h,p,_,y,v=(0,n.c)(41),{selectedSize:x,customW:b,customH:w,unitSystem:M,onSizeSelect:k,onCustomWChange:C,onCustomHChange:j,onAddFrame:S}=e;v[0]!==S?(t=e=>{"Enter"===e.key&&S()},v[0]=S,v[1]=t):t=v[1];let I=t;v[2]!==C?(o=e=>{C(Math.min(999,Math.max(0,Number(e.target.value))))},v[2]=C,v[3]=o):o=v[3],v[4]!==b||v[5]!==I||v[6]!==o?(l=(0,r.jsx)("div",{className:e_.default.inputWrapper,children:(0,r.jsx)("input",{type:"number",className:e_.default.input,value:b,onChange:o,onKeyDown:I,placeholder:"W",max:999})}),v[4]=b,v[5]=I,v[6]=o,v[7]=l):l=v[7],v[8]===Symbol.for("react.memo_cache_sentinel")?(a=(0,r.jsx)("span",{className:e_.default.separator,children:"×"}),v[8]=a):a=v[8],v[9]!==j?(i=e=>{j(Math.min(999,Math.max(0,Number(e.target.value))))},v[9]=j,v[10]=i):i=v[10],v[11]!==w||v[12]!==I||v[13]!==i?(s=(0,r.jsx)("input",{type:"number",className:e_.default.input,value:w,onChange:i,onKeyDown:I,placeholder:"H",max:999}),v[11]=w,v[12]=I,v[13]=i,v[14]=s):s=v[14];let E="metric"===M?"cm":"in";v[15]!==E?(u=(0,r.jsx)("span",{className:e_.default.unit,children:E}),v[15]=E,v[16]=u):u=v[16],v[17]!==s||v[18]!==u?(c=(0,r.jsxs)("div",{className:e_.default.inputWrapper,children:[s,u]}),v[17]=s,v[18]=u,v[19]=c):c=v[19],v[20]!==x||v[21]!==M?(m=x?g(x,M):"Custom",v[20]=x,v[21]=M,v[22]=m):m=v[22],v[23]!==k?(f=e=>k(e.target.value),v[23]=k,v[24]=f):f=v[24],v[25]!==x?(h=!x&&(0,r.jsx)("option",{value:"Custom",children:"Custom"}),v[25]=x,v[26]=h):h=v[26];let z=d[M];if(v[27]!==z.presets||v[28]!==M){let e;v[30]!==M?(e=e=>{let t=g(e,M);return(0,r.jsx)("option",{value:t,children:t},t)},v[30]=M,v[31]=e):e=v[31],p=z.presets.map(e),v[27]=z.presets,v[28]=M,v[29]=p}else p=v[29];return v[32]!==m||v[33]!==f||v[34]!==h||v[35]!==p?(_=(0,r.jsxs)("select",{className:e_.default.presetSelect,value:m,onChange:f,title:"Select preset size",children:[h,p]}),v[32]=m,v[33]=f,v[34]=h,v[35]=p,v[36]=_):_=v[36],v[37]!==_||v[38]!==l||v[39]!==c?(y=(0,r.jsx)("div",{className:e_.default.sizeSelector,children:(0,r.jsxs)("div",{className:e_.default.dimensionInputs,children:[l,a,c,_]})}),v[37]=_,v[38]=l,v[39]=c,v[40]=y):y=v[40],y},ev=H("zoom-in",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),ex=H("zoom-out",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),eb=e=>{let t,o,l,a,i=(0,n.c)(6),{size:s,className:u}=e,c=void 0===s?24:s;return i[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,r.jsx)("circle",{cx:"14",cy:"14",r:"12"}),o=(0,r.jsx)("path",{d:"M23 23 L30 30"}),l=(0,r.jsx)("path",{d:"M9 12 L9 9 12 9 M16 9 L19 9 19 12 M9 16 L9 19 12 19 M19 16 L19 19 16 19"}),i[0]=t,i[1]=o,i[2]=l):(t=i[0],o=i[1],l=i[2]),i[3]!==u||i[4]!==c?(a=(0,r.jsxs)("svg",{width:c,height:c,viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",className:u,children:[t,o,l]}),i[3]=u,i[4]=c,i[5]=a):a=i[5],a},ew=e=>{let t,o,l,a,i,s,u,c,d,m=(0,n.c)(18),{zoom:f,onZoomIn:h,onZoomOut:p,onReset:g}=e;return m[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,r.jsx)(eb,{size:16}),m[0]=t):t=m[0],m[1]!==g?(o=(0,r.jsx)("button",{onClick:g,className:`${e_.default.zoomButton} ${e_.default.zoomReset}`,title:"Fit to view",children:t}),m[1]=g,m[2]=o):o=m[2],m[3]===Symbol.for("react.memo_cache_sentinel")?(l=(0,r.jsx)(ex,{size:16}),m[3]=l):l=m[3],m[4]!==p?(a=(0,r.jsx)("button",{onClick:p,className:e_.default.zoomButton,children:l}),m[4]=p,m[5]=a):a=m[5],m[6]!==f?(i=Math.round(100*f),m[6]=f,m[7]=i):i=m[7],m[8]!==i?(s=(0,r.jsxs)("span",{className:e_.default.zoomDisplay,children:[i,"%"]}),m[8]=i,m[9]=s):s=m[9],m[10]===Symbol.for("react.memo_cache_sentinel")?(u=(0,r.jsx)(ev,{size:16}),m[10]=u):u=m[10],m[11]!==h?(c=(0,r.jsx)("button",{onClick:h,className:e_.default.zoomButton,children:u}),m[11]=h,m[12]=c):c=m[12],m[13]!==o||m[14]!==a||m[15]!==s||m[16]!==c?(d=(0,r.jsxs)("div",{className:e_.default.zoomControls,children:[o,a,s,c]}),m[13]=o,m[14]=a,m[15]=s,m[16]=c,m[17]=d):d=m[17],d},eM=Date.now(),ek=()=>()=>{},eC=e=>{let t,l,a,i,c,_,y,v,x,b,M,k,C,j,S,I,E,z,P,T,N,R,A,F,B,O=(0,n.c)(124),{wallRef:W}=e,{addFrame:L,clearAll:D,replaceAllItems:U,items:H,zoom:ee,setZoom:et,pan:er,setPan:en,showGrid:eo,setShowGrid:ec,gridSize:ed,setGridSize:em,unitSystem:eh,setUnitSystem:ep,selectedPresetIndex:ev,setSelectedPresetIndex:ex,settingsLoaded:eb,setCanvasReady:eC,undo:eI,redo:eE,canUndo:ez,canRedo:eP}=$(),eT=(0,o.useSyncExternalStore)(ek,ea,ej),eN=d[eh],eR="metric"===eh?p:f,eA="metric"===eh?h:m,e$=ev>=0&&ev<eN.presets.length?eN.presets[ev]:null;O[0]!==eR||O[1]!==e$?(t=e$?eR(e$.w):0,O[0]=eR,O[1]=e$,O[2]=t):t=O[2];let[eF,eB]=(0,o.useState)(t);O[3]!==eR||O[4]!==e$?(l=e$?eR(e$.h):0,O[3]=eR,O[4]=e$,O[5]=l):l=O[5];let[eO,eW]=(0,o.useState)(l),[eL,eD]=(0,o.useState)(!1),[eU,eH]=(0,o.useState)(null),[eK,eq]=(0,o.useState)(!1),[eG,eX]=(0,o.useState)(!1),eY=(0,o.useRef)(null),[eV,eZ]=(0,o.useState)(e$);eV!==e$&&(eZ(e$),e$&&(eB(eR(e$.w)),eW(eR(e$.h)))),O[6]!==H||O[7]!==en||O[8]!==et||O[9]!==W?(a=e=>{if(!W.current)return;let t=W.current.getBoundingClientRect(),r=eu(e?[...H,e]:H,t.width,t.height,.7874015748031497,.1,5);et(r.zoom),en(r.pan)},O[6]=H,O[7]=en,O[8]=et,O[9]=W,O[10]=a):a=O[10];let eJ=a;O[11]!==eJ||O[12]!==eK||O[13]!==H.length||O[14]!==eC||O[15]!==W?(i=()=>{!eK&&H.length>0&&W.current&&requestAnimationFrame(()=>{eJ(),eq(!0),eC(!0)})},c=[H.length,eK,eJ,W,eC],O[11]=eJ,O[12]=eK,O[13]=H.length,O[14]=eC,O[15]=W,O[16]=i,O[17]=c):(i=O[16],c=O[17]),(0,o.useEffect)(i,c),O[18]!==eG?(_=()=>{if(!eG)return;let e=e=>{eY.current&&!eY.current.contains(e.target)&&eX(!1)},t=e=>{"Escape"===e.key&&eX(!1)};return document.addEventListener("mousedown",e),document.addEventListener("keydown",t),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("keydown",t)}},y=[eG],O[18]=eG,O[19]=_,O[20]=y):(_=O[19],y=O[20]),(0,o.useEffect)(_,y),O[21]!==eN.presets||O[22]!==eR||O[23]!==ex||O[24]!==eh?(v=e=>{let t=eN.presets.findIndex(t=>g(t,eh)===e);if(-1!==t){let e=eN.presets[t];ex(t),eB(eR(e.w)),eW(eR(e.h))}else ex(-1)},O[21]=eN.presets,O[22]=eR,O[23]=ex,O[24]=eh,O[25]=v):v=O[25];let eQ=v;O[26]!==em||O[27]!==ex||O[28]!==ep||O[29]!==eh?(x=e=>{if(e===eh)return;ep(e);let t=d[e],r=t.defaultPresetIndex,n=t.presets[r],o="metric"===e?p:f;ex(r),eB(o(n.w)),eW(o(n.h)),em(t.gridOptions[t.defaultGridIndex])},O[26]=em,O[27]=ex,O[28]=ep,O[29]=eh,O[30]=x):x=O[30];let e0=x;if(O[31]!==L||O[32]!==eO||O[33]!==eF||O[34]!==eA||O[35]!==ed||O[36]!==H||O[37]!==er||O[38]!==U||O[39]!==en||O[40]!==ep||O[41]!==et||O[42]!==eh||O[43]!==W||O[44]!==ee){let e,t,r;b=()=>{let e,t;if(!W.current)return;let r=W.current.getBoundingClientRect(),o=eA(eF),l=eA(eO);if(H.length>0){let r=H.map(el).reduce(eS);e=r.x+r.w+50,t=r.y}else{let n=r.width/2,a=r.height/2;e=(n-er.x)/ee/.7874015748031497-o/2,t=(a-er.y)/ee/.7874015748031497-l/2}let a={id:++eM,leftMm:Math.round(e/ed)*ed,topMm:Math.round(t/ed)*ed,artWidthMm:o,artHeightMm:l,color:s[H.length%s.length],matColor:u,image:null,imageType:null,imageName:null,rotation:0,visualFrame:null,frameThicknessMm:null,matThicknessMm:null};L(a),requestAnimationFrame(()=>{n(a);let e=document.querySelector(`[data-item-id="${a.id}"]`);e?.focus()})},O[49]===Symbol.for("react.memo_cache_sentinel")?(e=()=>eD(!0),O[49]=e):e=O[49],M=e,O[50]!==H||O[51]!==eh?(t=()=>{eg(H,eh),eX(!1)},O[50]=H,O[51]=eh,O[52]=t):t=O[52],C=t,O[53]!==U||O[54]!==en||O[55]!==ep||O[56]!==et||O[57]!==W?(r=async()=>{eX(!1);let e=await new Promise(e=>{let t=document.createElement("input");t.type="file",t.accept=".wallart",t.onchange=async t=>{let r=t.target.files?.[0];if(!r)return void e(null);let n={ok:!1,error:"This file is not a valid Wall Art file."};try{let t,o=await r.text();try{t=JSON.parse(o)}catch{e(n);return}if(!t||"object"!=typeof t||!Array.isArray(t.items))return void e(n);let l=t,a=l.items.map(w).filter(e=>null!==e);if(0===a.length)return void e(n);let i="metric"===l.unitSystem||"imperial"===l.unitSystem?l.unitSystem:void 0,s=Math.min(...a.map(e=>e.leftMm)),u=Math.min(...a.map(e=>e.topMm));if(0!==s||0!==u){let t=a.map(e=>({...e,leftMm:e.leftMm-s,topMm:e.topMm-u}));e({ok:!0,items:t,unitSystem:i});return}e({ok:!0,items:a,unitSystem:i})}catch(t){console.error("Error loading file:",t),e({ok:!1,error:"Could not read the Wall Art file."})}},t.oncancel=()=>{e(null)},t.click()});if(null===e)return;if(!e.ok)return void eH(e.error);let t=e.items,r=1,n={x:0,y:0};if(t.length>0&&W.current){let e=W.current.getBoundingClientRect(),o=eu(t,e.width,e.height,.7874015748031497,.1,5);r=o.zoom,n=o.pan}e.unitSystem&&ep(e.unitSystem),U(t),et(r),en(n)},O[53]=U,O[54]=en,O[55]=ep,O[56]=et,O[57]=W,O[58]=r):r=O[58],k=r;let n=e=>{if(!W.current)return;let t=W.current.getBoundingClientRect(),r=es(e,t.width,t.height,.7874015748031497,ee,er,.1,ei);r&&(et(r.zoom),en(r.pan))};O[31]=L,O[32]=eO,O[33]=eF,O[34]=eA,O[35]=ed,O[36]=H,O[37]=er,O[38]=U,O[39]=en,O[40]=ep,O[41]=et,O[42]=eh,O[43]=W,O[44]=ee,O[45]=b,O[46]=M,O[47]=k,O[48]=C}else b=O[45],M=O[46],k=O[47],C=O[48];O[59]!==er||O[60]!==en||O[61]!==et||O[62]!==W||O[63]!==ee?(j=()=>{if(!W.current)return;let e=W.current.getBoundingClientRect(),t=e.width/2,r=e.height/2,n=(t-er.x)/(.7874015748031497*ee),o=(r-er.y)/(.7874015748031497*ee),l=Math.min(5,1.4*ee);et(l),en({x:t-.7874015748031497*n*l,y:r-.7874015748031497*o*l})},O[59]=er,O[60]=en,O[61]=et,O[62]=W,O[63]=ee,O[64]=j):j=O[64];let e1=j;O[65]!==er||O[66]!==en||O[67]!==et||O[68]!==W||O[69]!==ee?(S=()=>{if(!W.current)return;let e=W.current.getBoundingClientRect(),t=e.width/2,r=e.height/2,n=(t-er.x)/(.7874015748031497*ee),o=(r-er.y)/(.7874015748031497*ee),l=Math.max(.1,ee/1.4);et(l),en({x:t-.7874015748031497*n*l,y:r-.7874015748031497*o*l})},O[65]=er,O[66]=en,O[67]=et,O[68]=W,O[69]=ee,O[70]=S):S=O[70];let e2=S;return O[71]!==eG?(I=()=>eX(!eG),O[71]=eG,O[72]=I):I=O[72],O[73]===Symbol.for("react.memo_cache_sentinel")?(E=(0,r.jsx)("span",{className:e_.default.brandTitle,children:"🎨  Wall Art Planner"}),z=(0,r.jsx)(Y,{size:16,className:e_.default.brandChevron}),O[73]=E,O[74]=z):(E=O[73],z=O[74]),O[75]!==eG||O[76]!==I?(P=(0,r.jsxs)("button",{className:e_.default.brandButton,onClick:I,"aria-label":"File menu","aria-expanded":eG,children:[E,z]}),O[75]=eG,O[76]=I,O[77]=P):P=O[77],O[78]!==k||O[79]!==C||O[80]!==H.length||O[81]!==eG?(T=eG&&(0,r.jsxs)("div",{className:e_.default.fileMenu,children:[(0,r.jsxs)("button",{className:e_.default.menuItem,onClick:C,disabled:0===H.length,children:[(0,r.jsx)(V,{size:14}),(0,r.jsx)("span",{children:"Save to File"})]}),(0,r.jsxs)("button",{className:e_.default.menuItem,onClick:k,children:[(0,r.jsx)(Z,{size:14}),(0,r.jsx)("span",{children:"Load from File"})]})]}),O[78]=k,O[79]=C,O[80]=H.length,O[81]=eG,O[82]=T):T=O[82],O[83]!==P||O[84]!==T?(N=(0,r.jsxs)("div",{className:e_.default.brand,ref:eY,children:[P,T]}),O[83]=P,O[84]=T,O[85]=N):N=O[85],O[86]!==eP||O[87]!==ez||O[88]!==eN.gridOptions||O[89]!==eO||O[90]!==eF||O[91]!==ed||O[92]!==b||O[93]!==M||O[94]!==eJ||O[95]!==eQ||O[96]!==e0||O[97]!==e1||O[98]!==e2||O[99]!==H.length||O[100]!==eT||O[101]!==eE||O[102]!==e$||O[103]!==em||O[104]!==ex||O[105]!==ec||O[106]!==eb||O[107]!==eo||O[108]!==eI||O[109]!==eh||O[110]!==ee?(R=eb&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:e_.default.frameConfig,children:[(0,r.jsxs)("div",{className:e_.default.historyControls,children:[(0,r.jsx)("button",{onClick:eI,disabled:!ez,className:e_.default.historyButton,title:`Undo (${eT}+Z)`,"aria-label":"Undo",children:(0,r.jsx)(J,{size:16})}),(0,r.jsx)("div",{className:e_.default.historyDivider}),(0,r.jsx)("button",{onClick:eE,disabled:!eP,className:e_.default.historyButton,title:`Redo (${eT}+Shift+Z)`,"aria-label":"Redo",children:(0,r.jsx)(Q,{size:16})})]}),(0,r.jsxs)("div",{className:e_.default.unitSwitch,children:[(0,r.jsx)("span",{className:e_.default.unitIcon,children:(0,r.jsx)(G,{size:16})}),(0,r.jsx)("button",{className:`${e_.default.unitButton} ${"metric"===eh?e_.default.unitButtonActive:""}`,onClick:()=>e0("metric"),title:"Metric",children:"cm"}),(0,r.jsx)("button",{className:`${e_.default.unitButton} ${"imperial"===eh?e_.default.unitButtonActive:""}`,onClick:()=>e0("imperial"),title:"Imperial",children:"in"})]}),(0,r.jsx)(ey,{selectedSize:e$,customW:eF,customH:eO,unitSystem:eh,onSizeSelect:eQ,onCustomWChange:e=>{eB(e),ex(-1)},onCustomHChange:e=>{eW(e),ex(-1)},onAddFrame:b}),(0,r.jsxs)("button",{onClick:b,className:e_.default.addButton,children:[(0,r.jsx)(q,{size:16})," Add"]})]}),(0,r.jsxs)("div",{className:e_.default.viewControls,children:[(0,r.jsxs)("div",{className:e_.default.gridControls,children:[(0,r.jsx)("button",{onClick:()=>ec(!eo),className:`${e_.default.gridButton} ${eo?e_.default.active:""}`,title:eo?"Hide grid":"Show grid",children:(0,r.jsx)(K,{size:16})}),(0,r.jsx)("select",{value:ed,onChange:e=>em(Number(e.target.value)),className:e_.default.gridSizeSelect,title:"Grid size",children:eN.gridOptions.map(e=>(0,r.jsx)("option",{value:e,children:"metric"===eh?`${e} mm`:`${f(e)} in`},e))})]}),(0,r.jsx)(ew,{zoom:ee,onZoomIn:e1,onZoomOut:e2,onReset:()=>eJ()}),(0,r.jsx)("button",{onClick:M,className:e_.default.clearButton,disabled:0===H.length,"aria-label":"Clear canvas",children:(0,r.jsx)(X,{size:16})})]})]}),O[86]=eP,O[87]=ez,O[88]=eN.gridOptions,O[89]=eO,O[90]=eF,O[91]=ed,O[92]=b,O[93]=M,O[94]=eJ,O[95]=eQ,O[96]=e0,O[97]=e1,O[98]=e2,O[99]=H.length,O[100]=eT,O[101]=eE,O[102]=e$,O[103]=em,O[104]=ex,O[105]=ec,O[106]=eb,O[107]=eo,O[108]=eI,O[109]=eh,O[110]=ee,O[111]=R):R=O[111],O[112]!==D||O[113]!==en||O[114]!==et||O[115]!==eL?(A=eL&&(0,r.jsx)(ef,{message:"Are you sure you want to clear the entire wall?",onConfirm:()=>{D(),et(1),en({x:0,y:0}),eD(!1)},onCancel:()=>eD(!1)}),O[112]=D,O[113]=en,O[114]=et,O[115]=eL,O[116]=A):A=O[116],O[117]!==eU?(F=eU&&(0,r.jsx)(ef,{message:eU,confirmLabel:"OK",onConfirm:()=>eH(null)}),O[117]=eU,O[118]=F):F=O[118],O[119]!==N||O[120]!==R||O[121]!==A||O[122]!==F?(B=(0,r.jsxs)("div",{className:e_.default.toolbar,children:[N,R,A,F]}),O[119]=N,O[120]=R,O[121]=A,O[122]=F,O[123]=B):B=O[123],B};function ej(){return"Ctrl"}function eS(e,t){return t.x+t.w>e.x+e.w?t:e}function eI(){}var eE=e.i(55281);let ez=H("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),eP=H("rotate-cw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]),eT=H("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),eN=H("palette",[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]]),eR=H("image-off",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M10.41 10.41a2 2 0 1 1-2.83-2.83",key:"1bzlo9"}],["line",{x1:"13.5",x2:"6",y1:"13.5",y2:"21",key:"1q0aeu"}],["line",{x1:"18",x2:"21",y1:"12",y2:"15",key:"5mozeu"}],["path",{d:"M3.59 3.59A1.99 1.99 0 0 0 3 5v14a2 2 0 0 0 2 2h14c.55 0 1.052-.22 1.41-.59",key:"mmje98"}],["path",{d:"M21 15V5a2 2 0 0 0-2-2H9",key:"43el77"}]]),eA=H("pipette",[["path",{d:"m12 9-8.414 8.414A2 2 0 0 0 3 18.828v1.344a2 2 0 0 1-.586 1.414A2 2 0 0 1 3.828 21h1.344a2 2 0 0 0 1.414-.586L15 12",key:"1y3wsu"}],["path",{d:"m18 9 .4.4a1 1 0 1 1-3 3l-3.8-3.8a1 1 0 1 1 3-3l.4.4 3.4-3.4a1 1 0 1 1 3 3z",key:"110lr1"}],["path",{d:"m2 22 .414-.414",key:"jhxm08"}]]);function e$(){return(e$=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function eF(e,t){if(null==e)return{};var r,n,o={},l=Object.keys(e);for(n=0;n<l.length;n++)t.indexOf(r=l[n])>=0||(o[r]=e[r]);return o}function eB(e){var t=(0,o.useRef)(e),r=(0,o.useRef)(function(e){t.current&&t.current(e)});return t.current=e,r.current}var eO,eW=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=1),e>r?r:e<t?t:e},eL=function(e){return"touches"in e},eD=function(e){return e&&e.ownerDocument.defaultView||self},eU=function(e,t,r){var n=e.getBoundingClientRect(),o=eL(t)?function(e,t){for(var r=0;r<e.length;r++)if(e[r].identifier===t)return e[r];return e[0]}(t.touches,r):t;return{left:eW((o.pageX-(n.left+eD(e).pageXOffset))/n.width),top:eW((o.pageY-(n.top+eD(e).pageYOffset))/n.height)}},eH=function(e){eL(e)||e.preventDefault()},eK=o.default.memo(function(e){var t=e.onMove,r=e.onKey,n=eF(e,["onMove","onKey"]),l=(0,o.useRef)(null),a=eB(t),i=eB(r),s=(0,o.useRef)(null),u=(0,o.useRef)(!1),c=(0,o.useMemo)(function(){var e=function(e){eH(e),(eL(e)?e.touches.length>0:e.buttons>0)&&l.current?a(eU(l.current,e,s.current)):r(!1)},t=function(){return r(!1)};function r(r){var n=u.current,o=eD(l.current),a=r?o.addEventListener:o.removeEventListener;a(n?"touchmove":"mousemove",e),a(n?"touchend":"mouseup",t)}return[function(e){var t=e.nativeEvent,n=l.current;if(n&&(eH(t),(!u.current||eL(t))&&n)){if(eL(t)){u.current=!0;var o=t.changedTouches||[];o.length&&(s.current=o[0].identifier)}n.focus(),a(eU(n,t,s.current)),r(!0)}},function(e){var t=e.which||e.keyCode;t<37||t>40||(e.preventDefault(),i({left:39===t?.05:37===t?-.05:0,top:40===t?.05:38===t?-.05:0}))},r]},[i,a]),d=c[0],m=c[1],f=c[2];return(0,o.useEffect)(function(){return f},[f]),o.default.createElement("div",e$({},n,{onTouchStart:d,onMouseDown:d,className:"react-colorful__interactive",ref:l,onKeyDown:m,tabIndex:0,role:"slider"}))}),eq=function(e){return e.filter(Boolean).join(" ")},eG=function(e){var t=e.color,r=e.left,n=e.top,l=eq(["react-colorful__pointer",e.className]);return o.default.createElement("div",{className:l,style:{top:100*(void 0===n?.5:n)+"%",left:100*r+"%"}},o.default.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:t}}))},eX=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=Math.pow(10,t)),Math.round(r*e)/r},eY=function(e){return"#"===e[0]&&(e=e.substring(1)),e.length<6?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:4===e.length?eX(parseInt(e[3]+e[3],16)/255,2):1}:{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16),a:8===e.length?eX(parseInt(e.substring(6,8),16)/255,2):1}},eV=function(e){var t=e.s,r=e.v,n=e.a,o=(200-t)*r/100;return{h:eX(e.h),s:eX(o>0&&o<200?t*r/100/(o<=100?o:200-o)*100:0),l:eX(o/2),a:eX(n,2)}},eZ=function(e){var t=eV(e);return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},eJ=function(e){var t=e.h,r=e.s,n=e.v,o=e.a;t=t/360*6,r/=100,n/=100;var l=Math.floor(t),a=n*(1-r),i=n*(1-(t-l)*r),s=n*(1-(1-t+l)*r),u=l%6;return{r:eX(255*[n,i,a,a,s,n][u]),g:eX(255*[s,n,n,i,a,a][u]),b:eX(255*[a,a,s,n,n,i][u]),a:eX(o,2)}},eQ=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},e0=function(e){var t=e.r,r=e.g,n=e.b,o=e.a,l=o<1?eQ(eX(255*o)):"";return"#"+eQ(t)+eQ(r)+eQ(n)+l},e1=function(e){var t=e.r,r=e.g,n=e.b,o=e.a,l=Math.max(t,r,n),a=l-Math.min(t,r,n),i=a?l===t?(r-n)/a:l===r?2+(n-t)/a:4+(t-r)/a:0;return{h:eX(60*(i<0?i+6:i)),s:eX(l?a/l*100:0),v:eX(l/255*100),a:o}},e2=o.default.memo(function(e){var t=e.hue,r=e.onChange,n=eq(["react-colorful__hue",e.className]);return o.default.createElement("div",{className:n},o.default.createElement(eK,{onMove:function(e){r({h:360*e.left})},onKey:function(e){r({h:eW(t+360*e.left,0,360)})},"aria-label":"Hue","aria-valuenow":eX(t),"aria-valuemax":"360","aria-valuemin":"0"},o.default.createElement(eG,{className:"react-colorful__hue-pointer",left:t/360,color:eZ({h:t,s:100,v:100,a:1})})))}),e4=o.default.memo(function(e){var t=e.hsva,r=e.onChange,n={backgroundColor:eZ({h:t.h,s:100,v:100,a:1})};return o.default.createElement("div",{className:"react-colorful__saturation",style:n},o.default.createElement(eK,{onMove:function(e){r({s:100*e.left,v:100-100*e.top})},onKey:function(e){r({s:eW(t.s+100*e.left,0,100),v:eW(t.v-100*e.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+eX(t.s)+"%, Brightness "+eX(t.v)+"%"},o.default.createElement(eG,{className:"react-colorful__saturation-pointer",top:1-t.v/100,left:t.s/100,color:eZ(t)})))}),e5=function(e,t){if(e===t)return!0;for(var r in e)if(e[r]!==t[r])return!1;return!0},e3="u">typeof window?o.useLayoutEffect:o.useEffect,e8=new Map,e7=function(e){e3(function(){var t=e.current?e.current.ownerDocument:document;if(void 0!==t&&!e8.has(t)){var r=t.createElement("style");r.innerHTML='.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>\')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}',e8.set(t,r);var n=eO||("u">typeof __webpack_nonce__?__webpack_nonce__:void 0);n&&r.setAttribute("nonce",n),t.head.appendChild(r)}},[])},e9=function(e){var t,r,n,l,a,i=e.className,s=e.colorModel,u=e.color,c=void 0===u?s.defaultColor:u,d=e.onChange,m=eF(e,["className","colorModel","color","onChange"]),f=(0,o.useRef)(null);e7(f);var h=(t=eB(d),n=(r=(0,o.useState)(function(){return s.toHsva(c)}))[0],l=r[1],a=(0,o.useRef)({color:c,hsva:n}),(0,o.useEffect)(function(){if(!s.equal(c,a.current.color)){var e=s.toHsva(c);a.current={hsva:e,color:c},l(e)}},[c,s]),(0,o.useEffect)(function(){var e;e5(n,a.current.hsva)||s.equal(e=s.fromHsva(n),a.current.color)||(a.current={hsva:n,color:e},t(e))},[n,s,t]),[n,(0,o.useCallback)(function(e){l(function(t){return Object.assign({},t,e)})},[])]),p=h[0],g=h[1],_=eq(["react-colorful",i]);return o.default.createElement("div",e$({},m,{ref:f,className:_}),o.default.createElement(e4,{hsva:p,onChange:g}),o.default.createElement(e2,{hue:p.h,onChange:g,className:"react-colorful__last-control"}))},e6={defaultColor:"000",toHsva:function(e){return e1(eY(e))},fromHsva:function(e){return e0(eJ({h:e.h,s:e.s,v:e.v,a:1}))},equal:function(e,t){return e.toLowerCase()===t.toLowerCase()||e5(eY(e),eY(t))}},te=function(e){return o.default.createElement(e9,e$({},e,{colorModel:e6}))},tt=/^#?([0-9A-F]{3,8})$/i,tr=function(e){var t=e.color,r=void 0===t?"":t,n=e.onChange,l=e.onBlur,a=e.escape,i=e.validate,s=e.format,u=e.process,c=eF(e,["color","onChange","onBlur","escape","validate","format","process"]),d=(0,o.useState)(function(){return a(r)}),m=d[0],f=d[1],h=eB(n),p=eB(l),g=(0,o.useCallback)(function(e){var t=a(e.target.value);f(t),i(t)&&h(u?u(t):t)},[a,u,i,h]),_=(0,o.useCallback)(function(e){i(e.target.value)||f(a(r)),p(e)},[r,a,i,p]);return(0,o.useEffect)(function(){f(a(r))},[r,a]),o.default.createElement("input",e$({},c,{value:s?s(m):m,spellCheck:"false",onChange:g,onBlur:_}))},tn=function(e){return"#"+e},to=function(e){var t=e.prefixed,r=e.alpha,n=eF(e,["prefixed","alpha"]),l=(0,o.useCallback)(function(e){return e.replace(/([^0-9A-F]+)/gi,"").substring(0,r?8:6)},[r]),a=(0,o.useCallback)(function(e){var t,n;return 3===(n=(t=tt.exec(e))?t[1].length:0)||6===n||!!r&&4===n||!!r&&8===n},[r]);return o.default.createElement(tr,e$({},n,{escape:l,format:t?tn:void 0,process:tn,validate:a}))};function tl(e,t){let r,l,a,i=(0,n.c)(5),s=(0,o.useRef)(t);i[0]!==t?(r=()=>{s.current=t},i[0]=t,i[1]=r):r=i[1],(0,o.useEffect)(r),i[2]!==e?(l=()=>{let t,r=e.current;if(r&&s.current)return t=requestAnimationFrame(()=>{let e=function(e){let t=e.parentElement;for(;t;){let{overflow:e}=getComputedStyle(t);if("hidden"===e||"clip"===e||"scroll"===e||"auto"===e)return t;t=t.parentElement}return null}(r),n=e?e.getBoundingClientRect():{top:0,left:0,bottom:window.innerHeight,right:window.innerWidth},o=r.getBoundingClientRect(),l=0,a=0;if(o.top<n.top+7?a=n.top+7-o.top:o.bottom>n.bottom-7&&(a=n.bottom-7-o.bottom),o.left<n.left+7?l=n.left+7-o.left:o.right>n.right-7&&(l=n.right-7-o.right),0===l&&0===a)return;let i=null,u=0,c=0,d=e=>{null===i&&(i=e);let r=Math.min((e-i)/200,1),n=1-Math.pow(1-r,3),o=l*n,m=a*n,f=o-u,h=m-c;u=o,c=m,(0!==f||0!==h)&&s.current?.({x:f,y:h}),r<1&&(t=requestAnimationFrame(d))};t=requestAnimationFrame(d)}),()=>cancelAnimationFrame(t)},a=[e],i[2]=e,i[3]=l,i[4]=a):(l=i[3],a=i[4]),(0,o.useEffect)(l,a)}var ta=e.i(5585);let ti=e=>{let t,l,a,i,s,u=(0,n.c)(15),{color:c,onColorChange:d,onColorCommit:m,onPanRequest:f,beginContinuous:h,endContinuous:p}=e,g=(0,o.useRef)(null),_=(0,o.useRef)(!1);tl(g,f),u[0]!==p?(t=()=>{_.current&&(p(),_.current=!1)},u[0]=p,u[1]=t):t=u[1];let y=t;return u[2]!==h||u[3]!==d?(l=e=>{_.current||(h(),_.current=!0),d(e)},u[2]=h,u[3]=d,u[4]=l):l=u[4],u[5]!==c||u[6]!==y||u[7]!==l?(a=(0,r.jsx)(te,{color:c,onChange:l,onMouseUp:y,onTouchEnd:y}),u[5]=c,u[6]=y,u[7]=l,u[8]=a):a=u[8],u[9]!==c||u[10]!==m?(i=(0,r.jsx)(to,{color:c,onChange:m,prefixed:!0,className:ta.default.hexInput}),u[9]=c,u[10]=m,u[11]=i):i=u[11],u[12]!==a||u[13]!==i?(s=(0,r.jsxs)("div",{ref:g,className:ta.default.panel,onMouseDown:tu,children:[a,i]}),u[12]=a,u[13]=i,u[14]=s):s=u[14],s},ts=e=>{let t,l,a,i,s,u=(0,n.c)(22),{colors:c,color:d,zoom:m,onColorChange:f,onColorCommit:h,onClose:p,onPanRequest:g,beginContinuous:_,endContinuous:y}=e,[v,x]=(0,o.useState)(!1),b=(0,o.useRef)(null);tl(b,g);let w=`translateX(-50%) scale(${1/m})`;if(u[0]!==w?(t={transform:w,transformOrigin:"bottom center"},u[0]=w,u[1]=t):t=u[1],u[2]!==c||u[3]!==p||u[4]!==h){let e;u[6]!==p||u[7]!==h?(e=e=>(0,r.jsx)("button",{className:ta.default.swatch,style:{backgroundColor:e},onClick:()=>{h(e),x(!1),p()}},e),u[6]=p,u[7]=h,u[8]=e):e=u[8],l=c.map(e),u[2]=c,u[3]=p,u[4]=h,u[5]=l}else l=u[5];return u[9]===Symbol.for("react.memo_cache_sentinel")?(a=(0,r.jsx)("button",{className:`${ta.default.swatch} ${ta.default.customBtn}`,title:"Custom Color",onClick:()=>x(tm),children:(0,r.jsx)(eA,{size:12})}),u[9]=a):a=u[9],u[10]!==_||u[11]!==d||u[12]!==v||u[13]!==y||u[14]!==f||u[15]!==h||u[16]!==g?(i=v&&(0,r.jsx)(ti,{color:d,onColorChange:f,onColorCommit:h,onPanRequest:g,beginContinuous:_,endContinuous:y}),u[10]=_,u[11]=d,u[12]=v,u[13]=y,u[14]=f,u[15]=h,u[16]=g,u[17]=i):i=u[17],u[18]!==t||u[19]!==l||u[20]!==i?(s=(0,r.jsxs)("div",{ref:b,className:ta.default.bar,style:t,onMouseDown:tc,onDoubleClick:td,children:[l,a,i]}),u[18]=t,u[19]=l,u[20]=i,u[21]=s):s=u[21],s};function tu(e){return e.stopPropagation()}function tc(e){return e.stopPropagation()}function td(e){return e.stopPropagation()}function tm(e){return!e}let tf="M3 3H21V10H10V21H3Z M5 5H19V8H8V19H5Z",th="0 0 24 24",tp=e=>{let t,o,l=(0,n.c)(3),{size:a}=e,i=void 0===a?24:a;return l[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,r.jsx)("path",{d:tf}),l[0]=t):t=l[0],l[1]!==i?(o=(0,r.jsx)("svg",{width:i,height:i,viewBox:th,fill:"currentColor",fillRule:"evenodd",xmlns:"http://www.w3.org/2000/svg",children:t}),l[1]=i,l[2]=o):o=l[2],o},tg=e=>{let t,o,l,a=(0,n.c)(4),{size:i}=e,s=void 0===i?24:i;return a[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,r.jsx)("path",{opacity:"0.4",d:tf,fillRule:"evenodd"}),o=(0,r.jsx)("line",{x1:"2",y1:"2",x2:"22",y2:"22",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",fill:"none"}),a[0]=t,a[1]=o):(t=a[0],o=a[1]),a[2]!==s?(l=(0,r.jsxs)("svg",{width:s,height:s,viewBox:th,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[t,o]}),a[2]=s,a[3]=l):l=a[3],l},t_="M175.25,70.66h473.74c.05,1.02,.15,1.98,.15,2.94-.04,145.09-.09,290.18-.12,435.28,0,13.35,.14,26.71,.19,40.06,.02,4.22-.01,4.26-4.19,4.26-73.54,.06-147.09,.12-220.63,.18-41.75,.03-83.51,.08-125.26,.05-39.66-.03-79.32-.13-118.97-.24-6.08-.02-5.19,.54-5.19-5.35,.03-135.63,.09-271.25,.14-406.88,0-22.62,0-45.24,0-67.86,0-.69,.07-1.38,.14-2.43Zm16,14.99v452.11h441.91c.03-.6,.07-1,.07-1.39-.03-29-.08-57.99-.08-86.99,0-119.97,0-239.95,0-359.92,0-3.93-.02-3.95-4.16-3.95-144.79,0-289.57-.02-434.36-.01-1.06,0-2.13,.09-3.38,.15Z",ty="M297.4,190.94h230.32V434.46H297.4V190.94Zm221.49,9.04H306.36V425.79h212.53V199.98Z",tv="170 65 485 495",tx=e=>{let t,o,l,a=(0,n.c)(5),{size:i}=e,s=void 0===i?24:i,u=s/1.1,c=s/1.1;return a[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,r.jsx)("path",{d:t_}),o=(0,r.jsx)("path",{d:ty}),a[0]=t,a[1]=o):(t=a[0],o=a[1]),a[2]!==u||a[3]!==c?(l=(0,r.jsxs)("svg",{width:u,height:c,viewBox:tv,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[t,o]}),a[2]=u,a[3]=c,a[4]=l):l=a[4],l},tb=e=>{let t,o,l,a,i=(0,n.c)(6),{size:s}=e,u=void 0===s?24:s,c=u/1.1,d=u/1.1;return i[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,r.jsx)("path",{d:t_}),o=(0,r.jsx)("path",{d:ty}),l=(0,r.jsx)("circle",{cx:"580",cy:"490",r:"60",fill:"currentColor",stroke:"none"}),i[0]=t,i[1]=o,i[2]=l):(t=i[0],o=i[1],l=i[2]),i[3]!==c||i[4]!==d?(a=(0,r.jsxs)("svg",{width:c,height:d,viewBox:tv,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[t,o,l]}),i[3]=c,i[4]=d,i[5]=a):a=i[5],a},tw=e=>{let t,o,l,a,i=(0,n.c)(6),{size:s}=e,u=void 0===s?24:s,c=u/1.1,d=u/1.1;return i[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,r.jsx)("path",{opacity:"0.4",d:t_}),o=(0,r.jsx)("path",{opacity:"0.4",d:ty}),l=(0,r.jsx)("line",{x1:"210",y1:"106",x2:"615",y2:"519",stroke:"currentColor",strokeWidth:"40",strokeLinecap:"round",fill:"none"}),i[0]=t,i[1]=o,i[2]=l):(t=i[0],o=i[1],l=i[2]),i[3]!==c||i[4]!==d?(a=(0,r.jsxs)("svg",{width:c,height:d,viewBox:tv,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[t,o,l]}),i[3]=c,i[4]=d,i[5]=a):a=i[5],a};var tM=e.i(69143);function tk(e,t,r,n,o,l,a,i,s){let u="repeat-x"===a,c=u?e.tileW*l:2*n,d=u?2*o:e.tileH*l,m=u?"right"===i?"right":"0px":`${s}px`,f=u?`${s}px`:"bottom"===i?"bottom":"0px";return{left:t,top:r,width:n,height:o,backgroundImage:`url(${e.src})`,backgroundSize:`${c}px ${d}px`,backgroundRepeat:a,backgroundPosition:`${m} ${f}`}}let tC=o.default.memo(({spec:e,innerW:t,innerH:n,pxPerMm:o,thicknessMm:l,matPx:a=0,matColor:i})=>{let s=o/e.pxPerMm,u=l??e.thicknessMm,c=s*(u/e.thicknessMm),d=Math.round(u*o),m=[[e.corners.tl,0,0,d,d],[e.corners.tr,d+t,0,d,d],[e.corners.br,d+t,d+n,d,d],[e.corners.bl,0,d+n,d,d]],f=[{sprite:e.hEdges,spriteOffset:0,x:d,y:0,span:t,thickness:d,horizontal:!0},{sprite:e.hEdges,spriteOffset:-d,x:d,y:d+n,span:t,thickness:d,horizontal:!0},{sprite:e.vEdges,spriteOffset:-d,x:d+t,y:d,span:n,thickness:d,horizontal:!1},{sprite:e.vEdges,spriteOffset:0,x:0,y:d,span:n,thickness:d,horizontal:!1}];return(0,r.jsxs)(r.Fragment,{children:[a>0&&(0,r.jsx)("div",{className:tM.default.mat,style:{left:d,top:d,width:t,height:n,"--mat-px":`${a}px`,...i&&{background:i}}}),f.flatMap(({sprite:e,spriteOffset:t,x:n,y:o,span:l,thickness:a,horizontal:i},s)=>{let u=l/2;return i?[(0,r.jsx)("div",{className:tM.default.piece,style:tk(e,n-.5,o,u+1,a,c,"repeat-x","left",t)},`e${s}a`),(0,r.jsx)("div",{className:tM.default.piece,style:tk(e,n+u-.5,o,u+1,a,c,"repeat-x","right",t)},`e${s}b`)]:[(0,r.jsx)("div",{className:tM.default.piece,style:tk(e,n,o-.5,a,u+1,c,"repeat-y","top",t)},`e${s}a`),(0,r.jsx)("div",{className:tM.default.piece,style:tk(e,n,o+u-.5,a,u+1,c,"repeat-y","bottom",t)},`e${s}b`)]}),m.map(([t,n,o,l,a],i)=>{let s,u;return(0,r.jsx)("div",{className:tM.default.corner,style:(s=l/t.w,u=a/t.h,{left:n,top:o,width:l,height:a,backgroundImage:`url(${e.sprite})`,backgroundPosition:`${-t.x*s}px ${-t.y*u}px`,backgroundSize:`${e.spriteW*s}px ${e.spriteH*u}px`,backgroundRepeat:"no-repeat"})},`c${i}`)})]})});tC.displayName="ArtFrame";let tj=H("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var tS=e.i(15521);let tI=o.default.memo(e=>{let t,o,l,a,i,s,u,c,d,m,f=(0,n.c)(38),{specId:h,item:p,isActive:g,previewWidth:_,onSelect:y}=e;f[0]!==h?(t=ee.find(e=>e.id===h),f[0]=h,f[1]=t):t=f[1];let v=t;if(!v)return null;let x=_/(p.artWidthMm+2*v.thicknessMm),b=Math.round(v.thicknessMm*x),w=Math.round(p.artWidthMm*x),M=Math.round(p.artHeightMm*x),k=Math.round(eo(p)*x),C=b+w+b,j=b+M+b;f[2]!==y||f[3]!==h?(o=e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),y(h))},f[2]=y,f[3]=h,f[4]=o):o=f[4];let S=o,I=`${tS.default.cell}${g?` ${tS.default.active}`:""}`;f[5]!==y||f[6]!==h?(l=()=>y(h),f[5]=y,f[6]=h,f[7]=l):l=f[7],f[8]!==j||f[9]!==C?(a={width:C,height:j},f[8]=j,f[9]=C,f[10]=a):a=f[10],f[11]!==k||f[12]!==M||f[13]!==w||f[14]!==x||f[15]!==v?(i=(0,r.jsx)(tC,{spec:v,innerW:w,innerH:M,pxPerMm:x,matPx:k}),f[11]=k,f[12]=M,f[13]=w,f[14]=x,f[15]=v,f[16]=i):i=f[16];let E=b+k,z=b+k,P=w-2*k,T=M-2*k;return f[17]!==p.color||f[18]!==T||f[19]!==E||f[20]!==z||f[21]!==P?(s={left:E,top:z,width:P,height:T,backgroundColor:p.color},f[17]=p.color,f[18]=T,f[19]=E,f[20]=z,f[21]=P,f[22]=s):s=f[22],f[23]!==p.image?(u=p.image&&(0,r.jsx)(eE.default,{src:p.image,alt:"",fill:!0,className:tS.default.previewImage,unoptimized:!0}),f[23]=p.image,f[24]=u):u=f[24],f[25]!==s||f[26]!==u?(c=(0,r.jsx)("div",{className:tS.default.pictureArea,style:s,children:u}),f[25]=s,f[26]=u,f[27]=c):c=f[27],f[28]!==c||f[29]!==a||f[30]!==i?(d=(0,r.jsxs)("div",{className:tS.default.previewWrapper,style:a,children:[i,c]}),f[28]=c,f[29]=a,f[30]=i,f[31]=d):d=f[31],f[32]!==S||f[33]!==g||f[34]!==d||f[35]!==I||f[36]!==l?(m=(0,r.jsx)("button",{type:"button",className:I,onClick:l,onKeyDown:S,tabIndex:0,role:"option","aria-selected":g,children:d}),f[32]=S,f[33]=g,f[34]=d,f[35]=I,f[36]=l,f[37]=m):m=f[37],m});tI.displayName="FramePreviewCell";let tE=e=>{let t,l,a,i,s,u,c,d,m,f,h,p,g,_=(0,n.c)(26),{item:y,onSelect:v,onClose:x}=e,[b,w]=(0,o.useState)(!1),[M,k]=(0,o.useState)(0),C=(0,o.useRef)(null);_[0]===Symbol.for("react.memo_cache_sentinel")?(t=()=>{let e=C.current;if(!e)return;let t=getComputedStyle(e),r=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight),n=parseFloat(t.columnGap)||0,o=(e.clientWidth-r-n)/2,l=e.querySelector("button");if(!l)return;let a=getComputedStyle(l);k(Math.max(0,o-(parseFloat(a.paddingLeft)+parseFloat(a.paddingRight))-(parseFloat(a.borderLeftWidth)+parseFloat(a.borderRightWidth))))},_[0]=t):t=_[0];let j=t;_[1]===Symbol.for("react.memo_cache_sentinel")?(l=()=>{requestAnimationFrame(()=>{w(!0),requestAnimationFrame(()=>j())})},a=[j],_[1]=l,_[2]=a):(l=_[1],a=_[2]),(0,o.useEffect)(l,a),_[3]!==x?(i=()=>{let e=e=>{"Escape"===e.key&&x()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},s=[x],_[3]=x,_[4]=i,_[5]=s):(i=_[4],s=_[5]),(0,o.useEffect)(i,s);let S=`${tS.default.backdrop}${b?` ${tS.default.open}`:""}`;_[6]!==x||_[7]!==S?(u=(0,r.jsx)("div",{className:S,onClick:x,onMouseDown:tz}),_[6]=x,_[7]=S,_[8]=u):u=_[8];let I=`${tS.default.panel}${b?` ${tS.default.open}`:""}`;return _[9]===Symbol.for("react.memo_cache_sentinel")?(c=(0,r.jsx)("h2",{className:tS.default.title,children:"Choose Frame"}),_[9]=c):c=_[9],_[10]===Symbol.for("react.memo_cache_sentinel")?(d=(0,r.jsx)(tj,{size:14}),_[10]=d):d=_[10],_[11]!==x?(m=(0,r.jsxs)("div",{className:tS.default.header,children:[c,(0,r.jsx)("button",{className:tS.default.closeButton,onClick:x,title:"Close",children:d})]}),_[11]=x,_[12]=m):m=_[12],_[13]!==M||_[14]!==y||_[15]!==v?(f=ee.map(e=>(0,r.jsx)(tI,{specId:e.id,item:y,isActive:y.visualFrame===e.id,previewWidth:M,onSelect:v},e.id)),_[13]=M,_[14]=y,_[15]=v,_[16]=f):f=_[16],_[17]!==f?(h=(0,r.jsx)("div",{className:tS.default.grid,ref:C,role:"listbox","aria-label":"Frame options",children:f}),_[17]=f,_[18]=h):h=_[18],_[19]!==m||_[20]!==h||_[21]!==I?(p=(0,r.jsxs)("div",{className:I,onMouseDown:tP,children:[m,h]}),_[19]=m,_[20]=h,_[21]=I,_[22]=p):p=_[22],_[23]!==p||_[24]!==u?(g=(0,ec.createPortal)((0,r.jsxs)(r.Fragment,{children:[u,p]}),document.body),_[23]=p,_[24]=u,_[25]=g):g=_[25],g};function tz(e){return e.stopPropagation()}function tP(e){return e.stopPropagation()}var tT=e.i(5469);let tN=e=>{let t,l,a=(0,n.c)(6),{buttons:i,className:s,style:u,onPanRequest:c}=e,d=(0,o.useRef)(null);tl(d,c);let m=`${tT.default.bar}${s?` ${s}`:""}`;return a[0]!==i?(t=i.map(tA),a[0]=i,a[1]=t):t=a[1],a[2]!==u||a[3]!==m||a[4]!==t?(l=(0,r.jsx)("div",{ref:d,className:m,style:u,onMouseDown:tR,children:t}),a[2]=u,a[3]=m,a[4]=t,a[5]=l):l=a[5],l};function tR(e){return e.stopPropagation()}function tA(e){return(0,r.jsx)("button",{onClick:e.onClick,className:tT.default.button,title:e.title,children:e.icon},e.title)}var t$=e.i(57235);let tF=e=>{let t,l,a,i,s,u,c=(0,n.c)(16),{value:d,min:m,max:f,step:h,label:p,onClose:g,onChange:_,onPanRequest:y}=e,v=(0,o.useRef)(null);return tl(v,y),c[0]!==g?(t=()=>{let e=e=>{v.current&&!v.current.contains(e.target)&&g()};return document.addEventListener("mousedown",e,!0),()=>document.removeEventListener("mousedown",e,!0)},l=[g],c[0]=g,c[1]=t,c[2]=l):(t=c[1],l=c[2]),(0,o.useEffect)(t,l),c[3]!==_?(a=e=>_(Number(e.target.value)),c[3]=_,c[4]=a):a=c[4],c[5]!==f||c[6]!==m||c[7]!==h||c[8]!==a||c[9]!==d?(i=(0,r.jsx)("input",{type:"range",className:t$.default.slider,min:m,max:f,step:h,value:d,onChange:a}),c[5]=f,c[6]=m,c[7]=h,c[8]=a,c[9]=d,c[10]=i):i=c[10],c[11]!==p?(s=(0,r.jsx)("span",{className:t$.default.label,children:p}),c[11]=p,c[12]=s):s=c[12],c[13]!==i||c[14]!==s?(u=(0,r.jsxs)("div",{ref:v,className:t$.default.popup,onMouseDown:tB,onTouchStart:tO,children:[i,s]}),c[13]=i,c[14]=s,c[15]=u):u=c[15],u};function tB(e){return e.stopPropagation()}function tO(e){return e.stopPropagation()}var tW=e.i(34545);let tL=[["top",tW.default.resizeEdgeTop],["right",tW.default.resizeEdgeRight],["bottom",tW.default.resizeEdgeBottom],["left",tW.default.resizeEdgeLeft],["corner-tl",tW.default.resizeCornerTl],["corner-tr",tW.default.resizeCornerTr],["corner-bl",tW.default.resizeCornerBl],["corner-br",tW.default.resizeCornerBr]],tD=o.default.memo(e=>{let t,o=(0,n.c)(3),{image:l}=e;if(!l){let e;return o[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,r.jsx)("div",{className:tW.default.framePlaceholder}),o[0]=e):e=o[0],e}return o[1]!==l?(t=(0,r.jsx)(eE.default,{src:l,alt:"Frame Content",fill:!0,className:tW.default.frameImage,unoptimized:!0}),o[1]=l,o[2]=t):t=o[2],t});tD.displayName="FrameImage";let tU=new Map,tH=({draggingId:e,resizingId:t,handleItemMouseDown:n,handleResizeMouseDown:l})=>{let{items:a,selectedId:u,setSelectedId:m,zoom:h,setPan:_,removeFrame:y,updateFrame:v,commitFrame:x,unitSystem:b,beginContinuous:w,endContinuous:M}=$(),[k,C]=(0,o.useState)(null),[j,S]=(0,o.useState)(null),[I,E]=(0,o.useState)(null),[z,P]=(0,o.useState)(null),[T,N]=(0,o.useState)(null),R=o.default.useRef(!1),[A,F]=(0,o.useState)(u);A!==u&&(F(u),null!==k&&k!==u&&C(null),null!==j&&j!==u&&S(null),null!==I&&I!==u&&E(null),null!==z&&z!==u&&P(null),null!==T&&T!==u&&N(null));let B=o.default.useRef(I),O=o.default.useRef(z);o.default.useEffect(()=>{let e=null!==B.current;B.current=I;let t=null!==O.current;O.current=z,(e&&null===I||t&&null===z)&&R.current&&(M(),R.current=!1)},[I,z,M]);let W=e=>{let t=document.getElementById(`file-input-${e}`);t&&t.click()},L=async(e,t)=>{t.stopPropagation();let r=a.find(t=>t.id===e);if(r?.image)try{let t=await fetch(r.image),n=await t.blob(),o=URL.createObjectURL(n),l=document.createElement("a");l.href=o,l.download=r.imageName??`frame-${e}.${r.imageType?.split("/")[1]??"png"}`,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(o)}catch(e){console.error("Failed to download image:",e)}},D=null!==j?a.find(e=>e.id===j):void 0;return(0,r.jsxs)(r.Fragment,{children:[a.map(o=>{let A,$=u===o.id,F=Math.round(.7874015748031497*o.artWidthMm),B=Math.round(.7874015748031497*o.artHeightMm),O=.7874015748031497*o.leftMm,D=.7874015748031497*o.topMm,U=o.visualFrame?er(o.visualFrame):void 0,H=U?en(o,U):0,K=U?Math.round(.7874015748031497*H):0,q=eo(o),G=Math.round(.7874015748031497*q),X=F+2*K,Y=B+2*K;return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{tabIndex:0,"data-item-id":o.id,onFocus:()=>{u!==o.id&&m(o.id)},onMouseDown:e=>n(e,o.id),onTouchStart:e=>n(e,o.id),onClick:e=>e.stopPropagation(),onDoubleClick:e=>{e.stopPropagation(),W(o.id)},className:`${tW.default.artItem} ${$?tW.default.selected:""}`,style:{left:O,top:D,width:X,height:Y,transition:e===o.id||t===o.id?"none":"box-shadow 0.2s"},children:[U?(0,r.jsx)(tC,{spec:U,innerW:F,innerH:B,pxPerMm:.7874015748031497,thicknessMm:H,matPx:G,matColor:o.matColor}):G>0&&(0,r.jsx)("div",{className:tW.default.matArea,style:{width:F,height:B,backgroundColor:o.matColor}}),(0,r.jsx)("div",{className:tW.default.pictureArea,style:{left:K+G,top:K+G,width:F-2*G,height:B-2*G,backgroundColor:o.color},children:(0,r.jsx)(tD,{image:o.image})}),$&&(0,r.jsxs)(r.Fragment,{children:[((e,t,n,o,l)=>{var s,u;let c,m,y,M,k,C,j,S,T=(s=e.artWidthMm,u=e.artHeightMm,d[b].presets.find(e=>.01>Math.abs(e.w-s)&&.01>Math.abs(e.h-u)||.01>Math.abs(e.w-u)&&.01>Math.abs(e.h-s))),N="metric"===b?"cm":"in",A="metric"===b?`${p(e.artWidthMm)} \xd7 ${p(e.artHeightMm)} ${N}`:`${f(e.artWidthMm)} \xd7 ${f(e.artHeightMm)} ${N}`,$="";if(t){let t=e.artWidthMm+2*n,r=e.artHeightMm+2*n,o="metric"===b?p(n):f(n),l="metric"===b?`${p(t)} \xd7 ${p(r)}`:`${f(t)} \xd7 ${f(r)}`;$=`${o} ${N} / ${l} ${N}`}let F="";if(null!==e.matThicknessMm){let t=e.artWidthMm-2*o,r=e.artHeightMm-2*o,n="metric"===b?p(o):f(o),l="metric"===b?`${p(t)} \xd7 ${p(r)}`:`${f(t)} \xd7 ${f(r)}`;F=`${n} ${N} / ${l} ${N}`}return(0,r.jsxs)("div",{className:tW.default.dimensionTagRow,style:{transform:`scale(${1/h})`,transformOrigin:"bottom left",maxWidth:l*h},onMouseDown:e=>e.stopPropagation(),onDoubleClick:e=>e.stopPropagation(),children:[t&&(0,r.jsxs)("div",{className:tW.default.chipFrameWrap,children:[(0,r.jsx)("div",{className:tW.default.chipFrame,onClick:t=>{t.stopPropagation();let r=I!==e.id;r&&(w(),R.current=!0),E(r?e.id:null)},children:(0,r.jsxs)("span",{children:["frame: ",$]})}),I===e.id&&(c="metric"===b?5:6.35,m=Math.floor((("metric"===b?150:152.4)-c)/c),y=Math.min(Math.max(Math.round((n-c)/c),0),m),M="metric"===b?`${p(n)} cm`:`${f(n)} in`,(0,r.jsx)(tF,{value:y,min:0,max:m,step:1,label:M,onClose:()=>E(null),onChange:t=>{v(e.id,{frameThicknessMm:c+t*c})},onPanRequest:({x:e,y:t})=>_(r=>({x:r.x+e,y:r.y+t}))}))]}),(0,r.jsxs)("div",{className:tW.default.chipImage,children:[(0,r.jsx)("span",{children:t||null!==e.matThicknessMm?`content: ${A}`:A}),(0,r.jsxs)("select",{className:tW.default.dimensionSelect,onMouseDown:e=>e.stopPropagation(),onClick:e=>e.stopPropagation(),onChange:t=>((e,t)=>{let r=a.find(t=>t.id===e);if(!r||!t)return;let n=d[b].presets.find(e=>g(e,b)===t);n&&(r.artWidthMm>r.artHeightMm==n.w>n.h?x(e,{artWidthMm:n.w,artHeightMm:n.h}):x(e,{artWidthMm:n.h,artHeightMm:n.w}))})(e.id,t.target.value),value:T?g(T,b):"Custom",title:"Click to change size",children:[!T&&(0,r.jsx)("option",{value:"Custom",children:"Custom"}),d[b].presets.map(e=>{let t=g(e,b);return(0,r.jsx)("option",{value:t,children:t},t)})]})]}),null!==e.matThicknessMm&&(0,r.jsxs)("div",{className:tW.default.chipMatWrap,children:[(0,r.jsx)("div",{className:tW.default.chipMat,onClick:t=>{t.stopPropagation();let r=z!==e.id;r&&(w(),R.current=!0),P(r?e.id:null)},children:(0,r.jsxs)("span",{children:["mat: ",F]})}),z===e.id&&(C=Math.max(1,Math.floor((Math.max(k="metric"===b?5:6.35,Math.min(e.artWidthMm,e.artHeightMm)*i)-k)/k)),j=Math.min(Math.max(Math.round((o-k)/k),0),C),S="metric"===b?`${p(o)} cm`:`${f(o)} in`,(0,r.jsx)(tF,{value:j,min:0,max:C,step:1,label:S,onClose:()=>P(null),onChange:t=>{v(e.id,{matThicknessMm:k+t*k})},onPanRequest:({x:e,y:t})=>_(r=>({x:r.x+e,y:r.y+t}))}))]})]})})(o,U,H,q,X),(A=[],o.artWidthMm!==o.artHeightMm&&A.push({icon:(0,r.jsx)(eP,{size:14}),title:"Rotate",onClick:e=>{var t;let r;return t=o.id,e.stopPropagation(),void((r=a.find(e=>e.id===t))&&x(t,{artWidthMm:r.artHeightMm,artHeightMm:r.artWidthMm}))}}),o.image||A.push({icon:(0,r.jsx)(eN,{size:14}),title:"Change Color",onClick:()=>C(k===o.id?null:o.id)}),A.push({icon:(0,r.jsx)(eT,{size:14}),title:"Upload Image",onClick:()=>W(o.id)}),o.image&&A.push({icon:(0,r.jsx)(eR,{size:14}),title:"Remove Image",onClick:e=>{var t;return t=o.id,void(e.stopPropagation(),x(t,{image:null,imageType:null,imageName:null}))}},{icon:(0,r.jsx)(V,{size:14}),title:"Download Image",onClick:e=>L(o.id,e)}),A.push({icon:(0,r.jsx)(tp,{size:14}),title:"Choose Frame",onClick:()=>S(j===o.id?null:o.id)}),o.visualFrame&&A.push({icon:(0,r.jsx)(tg,{size:14}),title:"Remove Frame",onClick:e=>{e.stopPropagation(),x(o.id,{visualFrame:null})}}),null===o.matThicknessMm?A.push({icon:(0,r.jsx)(tx,{size:14}),title:"Add Mat",onClick:e=>{e.stopPropagation();let t=tU.get(o.id);x(o.id,{matThicknessMm:t??25.4})}}):(A.push({icon:(0,r.jsx)(tw,{size:14}),title:"Remove Mat",onClick:e=>{e.stopPropagation(),tU.set(o.id,o.matThicknessMm),x(o.id,{matThicknessMm:null})}}),A.push({icon:(0,r.jsx)(tb,{size:14}),title:"Mat Color",onClick:()=>N(T===o.id?null:o.id)})),A.push({icon:(0,r.jsx)(ez,{size:14}),title:"Remove",onClick:e=>{var t;return t=o.id,void(e.stopPropagation(),y(t))}}),(0,r.jsx)(tN,{buttons:A,className:tW.default.contextMenuBottom,style:{transform:`translateX(-50%) scale(${1/h})`,transformOrigin:"top center"},onPanRequest:({x:e,y:t})=>_(r=>({x:r.x+e,y:r.y+t}))})),k===o.id&&(0,r.jsx)(ts,{colors:s,color:o.color,zoom:h,onColorChange:e=>v(o.id,{color:e}),onColorCommit:e=>x(o.id,{color:e}),onClose:()=>C(null),onPanRequest:({x:e,y:t})=>_(r=>({x:r.x+e,y:r.y+t})),beginContinuous:w,endContinuous:M}),T===o.id&&(0,r.jsx)(ts,{colors:c,color:o.matColor,zoom:h,onColorChange:e=>v(o.id,{matColor:e}),onColorCommit:e=>x(o.id,{matColor:e}),onClose:()=>N(null),onPanRequest:({x:e,y:t})=>_(r=>({x:r.x+e,y:r.y+t})),beginContinuous:w,endContinuous:M}),tL.map(([e,t])=>(0,r.jsx)("div",{className:t,onMouseDown:t=>l(t,o.id,e),onTouchStart:t=>l(t,o.id,e)},e))]})]}),(0,r.jsx)("input",{type:"file",id:`file-input-${o.id}`,onChange:e=>((e,t)=>{let r=t.target.files?.[0];if(r){let t=new FileReader;t.onload=t=>{x(e,{image:t.target?.result,imageType:r.type,imageName:r.name})},t.readAsDataURL(r)}})(o.id,e),accept:"image/*",className:tW.default.hiddenInput})]},o.id)}),D&&(0,r.jsx)(tE,{item:D,onSelect:e=>{null!==j&&x(j,{visualFrame:e}),S(null)},onClose:()=>S(null)})]})};var tK=e.i(11348);let tq=e=>{let t,l,a,i,s,u,c,d,m,f=(0,n.c)(33),{wallRef:h}=e,{zoom:p,pan:g,showGrid:_,gridSize:y,canvasReady:v}=$(),{handleBackgroundMouseDown:x,handleMouseMove:b,handleMouseUp:w,handleWheel:M}=(e=>{let t,r,l,a,i,s,u,c,d,m,f,h,p=(0,n.c)(24),{zoom:g,setZoom:_,pan:y,setPan:v,setSelectedId:x}=$(),[b,w]=(0,o.useState)(!1);p[0]===Symbol.for("react.memo_cache_sentinel")?(t={x:0,y:0},p[0]=t):t=p[0];let M=(0,o.useRef)(t),k=(0,o.useRef)(g),C=(0,o.useRef)(g),j=(0,o.useRef)(y);p[1]===Symbol.for("react.memo_cache_sentinel")?(r={x:0,y:0},p[1]=r):r=p[1];let S=(0,o.useRef)(r);p[2]===Symbol.for("react.memo_cache_sentinel")?(l={x:0,y:0},p[2]=l):l=p[2];let I=(0,o.useRef)(l),E=(0,o.useRef)(null),z=(0,o.useRef)(0),P=(0,o.useRef)(null),T=(0,o.useRef)(null);p[3]!==y||p[4]!==g?(a=()=>{C.current=g,j.current=y,E.current||(k.current=g)},p[3]=y,p[4]=g,p[5]=a):a=p[5],(0,o.useEffect)(a),p[6]!==v||p[7]!==_?(i=()=>{P.current=e=>{var t;let r=Math.min((e-z.current)/16.67,3);z.current=e;let n=C.current;if(null!==T.current&&Math.abs(n-T.current)>.01){E.current=null,T.current=null;return}let o=k.current,l=Math.log(n),a=Math.exp(l+(Math.log(o)-l)*(1-Math.pow(.85,r))),i=S.current,s=I.current,u=i.x-.7874015748031497*s.x*a,c=i.y-.7874015748031497*s.y*a;if(Math.abs(a-o)/o<.001){let e=i.x-.7874015748031497*s.x*o,t=i.y-.7874015748031497*s.y*o;_(o),v({x:e,y:t}),C.current=o,j.current={x:e,y:t},T.current=o,E.current=null;return}_(a),v({x:u,y:c}),C.current=a,j.current={x:u,y:c},T.current=a,t=P.current??eI,E.current=requestAnimationFrame(e=>t(e))}},p[6]=v,p[7]=_,p[8]=i):i=p[8],(0,o.useEffect)(i),p[9]!==x?(s=e=>{w(!0),x(null),M.current={x:("clientX"in e?e.clientX:e.touches?.[0].clientX)||0,y:("clientY"in e?e.clientY:e.touches?.[0].clientY)||0}},p[9]=x,p[10]=s):s=p[10];let N=s;p[11]!==b||p[12]!==v?(u=e=>{if(!b)return;let t="clientX"in e?e.clientX:e.touches?.[0].clientX,r="clientY"in e?e.clientY:e.touches?.[0].clientY;if(void 0===t||void 0===r)return;let n=t-M.current.x,o=r-M.current.y;v(e=>({x:e.x+n,y:e.y+o})),M.current={x:t,y:r}},p[11]=b,p[12]=v,p[13]=u):u=p[13];let R=u;p[14]===Symbol.for("react.memo_cache_sentinel")?(c=()=>{w(!1)},p[14]=c):c=p[14];let A=c;p[15]!==e?(d=t=>{if(t.preventDefault(),!e.current)return;let r=e.current.getBoundingClientRect(),n=t.clientX-r.left,o=t.clientY-r.top,l=t.deltaY;1===t.deltaMode&&(l*=40),2===t.deltaMode&&(l*=800);let a=Math.pow(2,-(.003*l)),i=Math.min(5,Math.max(.1,k.current*a));k.current=i;let s=C.current,u=j.current;S.current={x:n,y:o},I.current={x:(n-u.x)/(.7874015748031497*s),y:(o-u.y)/(.7874015748031497*s)},E.current||(z.current=performance.now(),E.current=requestAnimationFrame(e=>P.current?.(e)))},p[15]=e,p[16]=d):d=p[16];let F=d;return p[17]===Symbol.for("react.memo_cache_sentinel")?(f=()=>()=>{E.current&&cancelAnimationFrame(E.current)},m=[],p[17]=m,p[18]=f):(m=p[17],f=p[18]),(0,o.useEffect)(f,m),p[19]!==N||p[20]!==R||p[21]!==F||p[22]!==b?(h={isPanning:b,handleBackgroundMouseDown:N,handleMouseMove:R,handleMouseUp:A,handleWheel:F},p[19]=N,p[20]=R,p[21]=F,p[22]=b,p[23]=h):h=p[23],h})(h),{draggingId:k,handleItemMouseDown:C,handleMouseMove:j,handleMouseUp:S}=(e=>{let t,r,l,a,i,s=(0,n.c)(24),{items:u,updateFrame:c,setSelectedId:d,zoom:m,pan:f,gridSize:h,beginContinuous:p,endContinuous:g}=$(),[_,y]=(0,o.useState)(null);s[0]===Symbol.for("react.memo_cache_sentinel")?(t={x:0,y:0},s[0]=t):t=s[0];let[v,x]=(0,o.useState)(t);s[1]!==p||s[2]!==u||s[3]!==f||s[4]!==d||s[5]!==e||s[6]!==m?(r=(t,r)=>{t.stopPropagation();let n=u.find(e=>e.id===r);if(!n)return;d(r),y(r),p();let o="clientX"in t?t.clientX:t.touches?.[0].clientX,l="clientY"in t?t.clientY:t.touches?.[0].clientY;if(!e.current||void 0===o||void 0===l)return;let a=e.current.getBoundingClientRect(),i=(o-a.left-f.x)/m/.7874015748031497,s=(l-a.top-f.y)/m/.7874015748031497;x({x:i-n.leftMm,y:s-n.topMm})},s[1]=p,s[2]=u,s[3]=f,s[4]=d,s[5]=e,s[6]=m,s[7]=r):r=s[7];let b=r;s[8]!==v||s[9]!==_||s[10]!==h||s[11]!==f||s[12]!==c||s[13]!==e||s[14]!==m?(l=t=>{if(!_||!e.current)return;let r="clientX"in t?t.clientX:t.touches?.[0].clientX,n="clientY"in t?t.clientY:t.touches?.[0].clientY;if(void 0===r||void 0===n)return;let o=e.current.getBoundingClientRect(),l=(r-o.left-f.x)/m/.7874015748031497,a=(n-o.top-f.y)/m/.7874015748031497,i=l-v.x,s=a-v.y;c(_,{leftMm:et(i,h),topMm:et(s,h)})},s[8]=v,s[9]=_,s[10]=h,s[11]=f,s[12]=c,s[13]=e,s[14]=m,s[15]=l):l=s[15];let w=l;s[16]!==_||s[17]!==g?(a=()=>{null!==_&&g(),y(null)},s[16]=_,s[17]=g,s[18]=a):a=s[18];let M=a;return s[19]!==_||s[20]!==b||s[21]!==w||s[22]!==M?(i={draggingId:_,handleItemMouseDown:b,handleMouseMove:w,handleMouseUp:M},s[19]=_,s[20]=b,s[21]=w,s[22]=M,s[23]=i):i=s[23],i})(h),{resizingId:I,handleResizeMouseDown:E,handleMouseMove:z,handleMouseUp:P}=(e=>{let t,r,l,a,i,s=(0,n.c)(25),{items:u,updateFrame:c,zoom:d,pan:m,gridSize:f,beginContinuous:h,endContinuous:p}=$(),[g,_]=(0,o.useState)(null),[y,v]=(0,o.useState)(null);s[0]===Symbol.for("react.memo_cache_sentinel")?(t={x:0,y:0},s[0]=t):t=s[0];let x=(0,o.useRef)(t);s[1]!==h||s[2]!==u||s[3]!==m||s[4]!==e||s[5]!==d?(r=(t,r,n)=>{t.stopPropagation(),t.preventDefault();let o=u.find(e=>e.id===r);if(!o||!e.current)return;let l="clientX"in t?t.clientX:t.touches?.[0].clientX,a="clientY"in t?t.clientY:t.touches?.[0].clientY;if(void 0===l||void 0===a)return;let i=e.current.getBoundingClientRect(),s=(l-i.left-m.x)/d/.7874015748031497,c=(a-i.top-m.y)/d/.7874015748031497,f="right"===n||"corner-br"===n||"corner-tr"===n,p="left"===n||"corner-bl"===n||"corner-tl"===n,g="bottom"===n||"corner-br"===n||"corner-bl"===n,y="top"===n||"corner-tr"===n||"corner-tl"===n,b=f?o.leftMm+o.artWidthMm:p?o.leftMm:s,w=g?o.topMm+o.artHeightMm:y?o.topMm:c;x.current={x:s-b,y:c-w},h(),_(r),v(n)},s[1]=h,s[2]=u,s[3]=m,s[4]=e,s[5]=d,s[6]=r):r=s[6];let b=r;s[7]!==f||s[8]!==u||s[9]!==m||s[10]!==y||s[11]!==g||s[12]!==c||s[13]!==e||s[14]!==d?(l=t=>{if(!g||!y||!e.current)return;t.preventDefault();let r=u.find(e=>e.id===g);if(!r)return;let n="clientX"in t?t.clientX:t.touches?.[0].clientX,o="clientY"in t?t.clientY:t.touches?.[0].clientY;if(void 0===n||void 0===o)return;let l=e.current.getBoundingClientRect(),a=(n-l.left-m.x)/d/.7874015748031497-x.current.x,i=(o-l.top-m.y)/d/.7874015748031497-x.current.y,s=r.leftMm+r.artWidthMm,h=r.topMm+r.artHeightMm,p=e=>Math.max(25,et(e,f)),_=e=>Math.max(25,et(e,f));if("right"===y)c(g,{artWidthMm:p(a-r.leftMm)});else if("bottom"===y)c(g,{artHeightMm:_(i-r.topMm)});else if("left"===y){let e=p(s-a);c(g,{leftMm:s-e,artWidthMm:e})}else if("top"===y){let e=_(h-i);c(g,{topMm:h-e,artHeightMm:e})}else if("corner-br"===y)c(g,{artWidthMm:p(a-r.leftMm),artHeightMm:_(i-r.topMm)});else if("corner-bl"===y){let e=p(s-a);c(g,{leftMm:s-e,artWidthMm:e,artHeightMm:_(i-r.topMm)})}else if("corner-tr"===y){let e=_(h-i);c(g,{topMm:h-e,artWidthMm:p(a-r.leftMm),artHeightMm:e})}else if("corner-tl"===y){let e=p(s-a),t=_(h-i);c(g,{leftMm:s-e,topMm:h-t,artWidthMm:e,artHeightMm:t})}},s[7]=f,s[8]=u,s[9]=m,s[10]=y,s[11]=g,s[12]=c,s[13]=e,s[14]=d,s[15]=l):l=s[15];let w=l;s[16]!==p||s[17]!==g?(a=()=>{null!==g&&p(),_(null),v(null)},s[16]=p,s[17]=g,s[18]=a):a=s[18];let M=a;return s[19]!==w||s[20]!==M||s[21]!==b||s[22]!==y||s[23]!==g?(i={resizingId:g,resizeMode:y,handleResizeMouseDown:b,handleMouseMove:w,handleMouseUp:M},s[19]=w,s[20]=M,s[21]=b,s[22]=y,s[23]=g,s[24]=i):i=s[24],i})(h);f[0]!==j||f[1]!==S||f[2]!==b||f[3]!==w||f[4]!==z||f[5]!==P?(t=()=>{let e=e=>{b(e),j(e),z(e)},t=()=>{w(),S(),P()};return window.addEventListener("mousemove",e),window.addEventListener("mouseup",t),window.addEventListener("touchmove",e),window.addEventListener("touchend",t),()=>{window.removeEventListener("mousemove",e),window.removeEventListener("mouseup",t),window.removeEventListener("touchmove",e),window.removeEventListener("touchend",t)}},l=[b,j,z,w,S,P],f[0]=j,f[1]=S,f[2]=b,f[3]=w,f[4]=z,f[5]=P,f[6]=t,f[7]=l):(t=f[6],l=f[7]),(0,o.useEffect)(t,l),f[8]!==M||f[9]!==h?(a=()=>{let e=h.current;if(e)return e.addEventListener("wheel",M,{passive:!1}),()=>e.removeEventListener("wheel",M)},i=[h,M],f[8]=M,f[9]=h,f[10]=a,f[11]=i):(a=f[10],i=f[11]),(0,o.useEffect)(a,i);let T=.7874015748031497*y*p,N=g.x-T/2,R=g.y-T/2,A=v&&_&&T>=3;f[12]!==N||f[13]!==R||f[14]!==T||f[15]!==A?(s=A?{backgroundImage:"radial-gradient(circle, var(--grid-dot-color) var(--grid-dot-size), transparent var(--grid-dot-size))",backgroundSize:`${T}px ${T}px`,backgroundPosition:`${N}px ${R}px`}:void 0,f[12]=N,f[13]=R,f[14]=T,f[15]=A,f[16]=s):s=f[16];let F=`translate(${g.x}px, ${g.y}px) scale(${p})`,B=v?"visible":"hidden";return f[17]!==F||f[18]!==B?(u={transform:F,visibility:B},f[17]=F,f[18]=B,f[19]=u):u=f[19],f[20]!==k||f[21]!==C||f[22]!==E||f[23]!==I?(c=(0,r.jsx)(tH,{draggingId:k,resizingId:I,handleItemMouseDown:C,handleResizeMouseDown:E}),f[20]=k,f[21]=C,f[22]=E,f[23]=I,f[24]=c):c=f[24],f[25]!==u||f[26]!==c?(d=(0,r.jsx)("div",{className:tK.default.contentLayer,style:u,children:c}),f[25]=u,f[26]=c,f[27]=d):d=f[27],f[28]!==x||f[29]!==d||f[30]!==s||f[31]!==h?(m=(0,r.jsx)("div",{ref:h,className:tK.default.canvas,onMouseDown:x,style:s,children:d}),f[28]=x,f[29]=d,f[30]=s,f[31]=h,f[32]=m):m=f[32],m};function tG(e,t){return e.id-t.id}function tX(e){return null!==e}function tY(e){return e.leftMm}function tV(e){return e.topMm}var tZ=e.i(82763);let tJ=()=>{let e,t,l,a,i=(0,n.c)(17),s=(0,o.useRef)(null),{items:u,zoom:c,pan:d,setZoom:m,setPan:f,restoredInfo:h}=$(),p=(0,o.useRef)(h.gen);return i[0]!==u||i[1]!==d||i[2]!==h.gen||i[3]!==h.ids||i[4]!==f||i[5]!==m||i[6]!==c?(e=()=>{if(h.gen===p.current)return;p.current=h.gen;let e=new Set(h.ids);requestAnimationFrame(()=>{if(!s.current||0===u.length)return;let t=s.current.getBoundingClientRect(),r=u.filter(t=>e.has(t.id));if(0===r.length)return;let n=c,o=d;for(let e of r){let r=es(e,t.width,t.height,.7874015748031497,n,o,.1);r&&(n=r.zoom,o=r.pan)}(n!==c||o!==d)&&(m(n),f(o))})},i[0]=u,i[1]=d,i[2]=h.gen,i[3]=h.ids,i[4]=f,i[5]=m,i[6]=c,i[7]=e):e=i[7],i[8]!==u||i[9]!==d||i[10]!==h||i[11]!==f||i[12]!==m||i[13]!==c?(t=[h,u,c,d,m,f],i[8]=u,i[9]=d,i[10]=h,i[11]=f,i[12]=m,i[13]=c,i[14]=t):t=i[14],(0,o.useEffect)(e,t),i[15]===Symbol.for("react.memo_cache_sentinel")?(l=[],i[15]=l):l=i[15],(0,o.useEffect)(t0,l),(e=>{let t,r,l,a,i=(0,n.c)(13),{replaceAllItems:s,setZoom:u,setPan:c,setUnitSystem:d}=$();i[0]!==s||i[1]!==c||i[2]!==d||i[3]!==u?(t={replaceAllItems:s,setZoom:u,setPan:c,setUnitSystem:d},i[0]=s,i[1]=c,i[2]=d,i[3]=u,i[4]=t):t=i[4];let m=(0,o.useRef)(t);i[5]!==s||i[6]!==c||i[7]!==d||i[8]!==u?(r=()=>{m.current={replaceAllItems:s,setZoom:u,setPan:c,setUnitSystem:d}},i[5]=s,i[6]=c,i[7]=d,i[8]=u,i[9]=r):r=i[9],(0,o.useEffect)(r),i[10]!==e?(l=()=>{window.launchQueue&&window.launchQueue.setConsumer(async t=>{let r,n,o;if(0===t.files.length)return;let l=t.files[0];try{r=await l.getFile()}catch{console.error("Failed to read launched file.");return}try{n=await r.text()}catch{console.error("Failed to read file contents.");return}try{o=JSON.parse(n)}catch{console.error("Launched file is not valid JSON.");return}if(!o||"object"!=typeof o)return;let a=o;if(!Array.isArray(a.items))return;let i=a.items.map(w).filter(tX);if(0===i.length)return;let s=Math.min(...i.map(tY)),u=Math.min(...i.map(tV));if(0!==s||0!==u)for(let e of i)e.leftMm=e.leftMm-s,e.topMm=e.topMm-u;let c=e.current,d=1,f={x:0,y:0};if(c){let e=c.getBoundingClientRect(),t=eu(i,e.width,e.height,.7874015748031497,.1,5);d=t.zoom,f=t.pan}let h="metric"===a.unitSystem||"imperial"===a.unitSystem?a.unitSystem:void 0,p=m.current;h&&p.setUnitSystem(h),p.replaceAllItems(i),p.setZoom(d),p.setPan(f)})},a=[e],i[10]=e,i[11]=l,i[12]=a):(l=i[11],a=i[12]),(0,o.useEffect)(l,a)})(s),(()=>{let e,t,r,l,a,i,s=(0,n.c)(20),{selectedId:u,items:c,removeFrame:d,updateFrame:m,setSelectedId:f,gridSize:h,undo:p,redo:g,beginContinuous:_,endContinuous:y}=$(),v=(0,o.useRef)(null);s[0]!==y?(e=()=>{let e=v.current;e&&(clearTimeout(e.timer),v.current=null,y())},s[0]=y,s[1]=e):e=s[1];let x=e;s[2]!==x?(t=()=>x,r=[x],s[2]=x,s[3]=t,s[4]=r):(t=s[3],r=s[4]),(0,o.useEffect)(t,r),s[5]!==_||s[6]!==y||s[7]!==x||s[8]!==h||s[9]!==c||s[10]!==g||s[11]!==d||s[12]!==u||s[13]!==f||s[14]!==p||s[15]!==m?(l=e=>{let t=e.target;if("INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||"BUTTON"===t.tagName||t.isContentEditable)return;if((e.ctrlKey||e.metaKey)&&!e.altKey){if("z"===e.key||"Z"===e.key){e.preventDefault(),x(),e.shiftKey?g():p();return}if("y"===e.key&&!e.shiftKey){e.preventDefault(),x(),g();return}}if(e.ctrlKey||e.metaKey||e.altKey)return;let r=e.shiftKey;if(null!==u)switch("ArrowUp"!==e.key&&"ArrowDown"!==e.key&&"ArrowLeft"!==e.key&&"ArrowRight"!==e.key&&x(),e.key){case"Delete":case"Backspace":e.preventDefault(),d(u);break;case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":{e.preventDefault();let t=c.find(e=>e.id===u);if(!t)break;let n=r?`${e.key}-fine`:e.key,o=v.current;if(o&&o.direction===n?clearTimeout(o.timer):(o&&(clearTimeout(o.timer),v.current=null,y()),_()),"ArrowUp"===e.key||"ArrowDown"===e.key){let n="ArrowUp"===e.key?-1:1;m(u,{topMm:r?t.topMm+ +n:et(t.topMm+n*h,h)})}else{let n="ArrowLeft"===e.key?-1:1;m(u,{leftMm:r?t.leftMm+ +n:et(t.leftMm+n*h,h)})}v.current={direction:n,timer:setTimeout(()=>{v.current=null,y()},400)};break}case"Enter":{e.preventDefault();let t=document.getElementById(`file-input-${u}`);t&&t.click();break}case"Tab":{if(0===c.length)break;let t=[...c].sort(tG),r=t.findIndex(e=>e.id===u),n=e.shiftKey?r-1:r+1;if(n<0||n>=t.length){f(null);break}e.preventDefault();let o=t[n];f(o.id);let l=document.querySelector(`[data-item-id="${o.id}"]`);l?.focus();break}case"Escape":e.preventDefault(),f(null),document.activeElement?.blur()}},s[5]=_,s[6]=y,s[7]=x,s[8]=h,s[9]=c,s[10]=g,s[11]=d,s[12]=u,s[13]=f,s[14]=p,s[15]=m,s[16]=l):l=s[16];let b=l;s[17]!==b?(a=()=>(window.addEventListener("keydown",b),()=>window.removeEventListener("keydown",b)),i=[b],s[17]=b,s[18]=a,s[19]=i):(a=s[18],i=s[19]),(0,o.useEffect)(a,i)})(),i[16]===Symbol.for("react.memo_cache_sentinel")?(a=(0,r.jsxs)("div",{className:tZ.default.container,children:[(0,r.jsx)(eC,{wallRef:s}),(0,r.jsx)(tq,{wallRef:s})]}),i[16]=a):a=i[16],a};function tQ(){}function t0(){"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js").catch(tQ)}e.s(["WallArt",0,()=>{let e,t=(0,n.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,r.jsx)(O,{children:(0,r.jsx)(tJ,{})}),t[0]=e):e=t[0],e}],38103)}]);